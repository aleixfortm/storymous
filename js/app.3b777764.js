(function(){var e={7695:function(e,t,s){"use strict";s(7658),s(2801);var o=s(9963),n=s(2201),a=s(6252),i=s(3080),r=s(3349);const l=e=>((0,a.dD)("data-v-2bdc51b0"),e=e(),(0,a.Cn)(),e),c=l((()=>(0,a._)("img",{src:i,alt:"storymous forest",class:"testimage"},null,-1))),u={class:"create_newstory"},d=["src"],m={key:1,class:"postimage",src:r,alt:"default avatar"},g={class:"story_form"};function p(e,t,s,n,i,r){const l=(0,a.up)("feed-container"),p=(0,a.up)("buttonblock-selector");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l,null,{default:(0,a.w5)((()=>[c,(0,a._)("div",u,[e.userFetchedPicture?((0,a.wg)(),(0,a.iD)("img",{key:0,class:"postimage",src:r.imgSource,alt:"profilepic",onClick:t[0]||(t[0]=(...e)=>r.navigateToProfile&&r.navigateToProfile(...e))},null,8,d)):((0,a.wg)(),(0,a.iD)("img",m)),(0,a._)("span",g,[(0,a._)("input",{type:"text",placeholder:"Start new story",onClick:t[1]||(t[1]=(...e)=>r.navigateToNewPost&&r.navigateToNewPost(...e))})])])])),_:1}),(0,a.Wm)(p,{homePage:!0,onSelectedTab:r.handleSelectedTab},null,8,["onSelectedTab"]),(0,a.Wm)(o.uT,{name:"fade",mode:"out-in"},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.j4)((0,a.LL)(i.selectedTab),{posts:i.posts,loading:i.loading,key:i.selectedTab},null,8,["posts","loading"]))])),_:1})],64)}var h=s(3907),A=s(6154);const _="https://aleixfortm.pythonanywhere.com";var v=A.Z;function w(e,t){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.WI)(e.$slots,"default",{},void 0,!0)])}var f=s(3744);const C={},y=(0,f.Z)(C,[["render",w],["__scopeId","data-v-4d5e77e3"]]);var b=y,k=s(3577);const T=["type"];function D(e,t,s,o,n,i){return(0,a.wg)(),(0,a.iD)("button",{type:s.type,class:(0,k.C_)([s.mode,{selected:s.selected}])},[(0,a.WI)(e.$slots,"default",{},void 0,!0)],10,T)}var x={props:["type","mode","selected"]};const I=(0,f.Z)(x,[["render",D],["__scopeId","data-v-7fe411e8"]]);var B=I;const S={key:0,class:"loader-container"},M=(0,a._)("div",{class:"spinner-border text-light mb-3",style:{width:"5rem",height:"5rem"},role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")],-1),E=(0,a._)("span",{class:"loader-text"},"Loading stories...",-1),L=[M,E];function U(e,t,s,o,n,i){const r=(0,a.up)("post-container"),l=(0,a.up)("continuestoryfeed-container"),c=(0,a.up)("feed-container");return(0,a.wg)(),(0,a.j4)(c,null,{default:(0,a.w5)((()=>[s.loading?((0,a.wg)(),(0,a.iD)("div",S,L)):((0,a.wg)(!0),(0,a.iD)(a.HY,{key:1},(0,a.Ko)(s.posts.latest,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e._id},["prologue"===e.type?((0,a.wg)(),(0,a.j4)(r,{key:0,_id:e._id,title:e.title,content:e.content,username:e.username,postComment:e.comment,date:e.date,picture:e.picture,color:e.color,views:e.views,comments:e.user_comments,tags:e.tags,leaves:e.leaves,feedMode:!0},null,8,["_id","title","content","username","postComment","date","picture","color","views","comments","tags","leaves"])):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},["chapter"===e.type?((0,a.wg)(),(0,a.j4)(l,{key:0,_id:e._id,storyId:e.story_id,parentChapterId:e.parent_chapter_id,content:e.content,chapterName:e.chapter_name,chapterNum:e.chapter_num,username:e.username,color:e.color,storyTitle:e.story_title,postComment:e.comment,date:e.date,picture:e.picture,leaves:e.leaves,views:e.views,tags:e.tags},null,8,["_id","storyId","parentChapterId","content","chapterName","chapterNum","username","color","storyTitle","postComment","date","picture","leaves","views","tags"])):(0,a.kq)("",!0)],64))])))),128))])),_:1})}const P=e=>((0,a.dD)("data-v-3d5f2315"),e=e(),(0,a.Cn)(),e),F=P((()=>(0,a._)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20,300,1,200"},null,-1))),Q={class:"origin"},j={style:{"font-weight":"bold"}},H={class:"story__user-img-container"},J=["src"],Y={class:"story__user-info-container"},z={class:"story__user-comment-container"},O={class:"story__user-comment cur-def"},Z={class:"story__username cur-pnt"},N=P((()=>(0,a._)("span",{class:"lower",style:{color:"whitesmoke"}},[(0,a._)("b",null,"@")],-1))),V={class:"story__user-name"},G={class:"story__username-date lower cur-def"},W=P((()=>(0,a._)("div",{class:"separator"},null,-1))),R={class:"story__upper"},q={class:"story__title"},X=P((()=>(0,a._)("span",{class:"story_title highlight"},"PROLOGUE",-1))),K={class:"tag-section"},$={class:"story__content"},ee={key:0,class:"readmore-button"},te=P((()=>(0,a._)("em",null,"Read more",-1))),se=[te],oe=P((()=>(0,a._)("div",{class:"separator"},null,-1))),ne={class:"story-stats user-select-none"},ae={class:"story-stats-section view"},ie=P((()=>(0,a._)("span",{class:"material-symbols-outlined margin1 view-icon"},"bar_chart",-1))),re={class:"story-stats-section comment"},le=P((()=>(0,a._)("span",{class:"material-symbols-outlined margin1 comment-icon"},"chat",-1)));function ce(e,t,s,n,i,r){const l=(0,a.up)("post-tag");return(0,a.wg)(),(0,a.iD)(a.HY,null,[F,(0,a._)("div",null,[(0,a._)("div",{class:(0,k.C_)(r.outlineClass)},[(0,a._)("span",null,[(0,a._)("div",{class:"origin-container",onClick:t[0]||(t[0]=(...e)=>r.navigateToPost&&r.navigateToPost(...e))},[(0,a._)("div",Q,[(0,a.Uk)('Started "'),(0,a._)("span",j,(0,k.zw)(s.title),1),(0,a.Uk)('"')])]),(0,a._)("div",{class:"story__user-container",onClick:t[3]||(t[3]=(...e)=>r.navigateToPost&&r.navigateToPost(...e))},[(0,a._)("div",H,[(0,a._)("span",{onClick:t[1]||(t[1]=(0,o.iM)(((...e)=>r.navigateToUser&&r.navigateToUser(...e)),["stop"]))},[s.picture?((0,a.wg)(),(0,a.iD)("img",{key:0,src:r.imgSource,alt:"pic",class:"story__user-img"},null,8,J)):(0,a.kq)("",!0)])]),(0,a._)("div",Y,[(0,a._)("div",z,[(0,a._)("div",O,(0,k.zw)(s.postComment),1)]),(0,a._)("div",Z,[(0,a._)("span",{onClick:t[2]||(t[2]=(0,o.iM)(((...e)=>r.navigateToUser&&r.navigateToUser(...e)),["stop"]))},[N,(0,a._)("b",V,(0,k.zw)(s.username),1)]),(0,a._)("span",G,"Â· "+(0,k.zw)(s.date),1)])])]),W,(0,a._)("article",{class:"story__article",onClick:t[4]||(t[4]=(...e)=>r.navigateToPost&&r.navigateToPost(...e))},[(0,a._)("div",R,[(0,a._)("h2",q,[X,(0,a.Uk)((0,k.zw)(s.title.toUpperCase()),1)])]),(0,a._)("div",K,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.tags,(e=>((0,a.wg)(),(0,a.j4)(l,{key:e,clickable:!1,tag:e},null,8,["tag"])))),128))]),(0,a._)("p",$,[(0,a.Uk)((0,k.zw)(r.formatStory(s.content))+" ",1),s.feedMode&&r.checkLength?((0,a.wg)(),(0,a.iD)("b",ee,se)):(0,a.kq)("",!0)])]),oe,(0,a._)("div",ne,[(0,a._)("div",{class:(0,k.C_)(["story-stats-section leaf",[i.leavesMutable.includes(e.currentUser)?"includes-leaf":""]]),onClick:t[5]||(t[5]=(0,o.iM)(((...e)=>r.increaseLeaves&&r.increaseLeaves(...e)),["prevent"]))},[(0,a._)("span",{class:(0,k.C_)(["material-symbols-outlined margin1 leaf-icon",[i.leavesMutable.includes(e.currentUser)?"includes-leaf-icon":""]])}," nest_eco_leaf ",2),(0,a.Uk)(" "+(0,k.zw)(i.leavesMutable.length),1)],2),(0,a._)("div",ae,[ie,(0,a.Uk)((0,k.zw)(s.views),1)]),(0,a._)("div",re,[le,(0,a.Uk)((0,k.zw)(s.comments.length),1)])])])],2)])],64)}const ue={key:0,class:"material-symbols-outlined neutral-class"};function de(e,t,s,o,n,i){return s.clickable?((0,a.wg)(),(0,a.iD)("div",{key:1,onClick:t[0]||(t[0]=(...e)=>i.selectTag&&i.selectTag(...e)),class:(0,k.C_)(["clickable tag-shape user-select-none",[s.tag,n.selected?"tag-selected":""]])},[n.selected?((0,a.wg)(),(0,a.iD)("span",ue,"done")):(0,a.kq)("",!0),(0,a.Uk)(" "+(0,k.zw)(s.tag),1)],2)):((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,k.C_)(["tag-shape user-select-none",s.tag])},(0,k.zw)(s.tag),3))}var me={props:["tag","clickable"],data(){return{selected:!1}},methods:{selectTag(){this.selected=!this.selected,this.$emit("selected",this.tag,this.selected)}}};const ge=(0,f.Z)(me,[["render",de],["__scopeId","data-v-36942eb2"]]);var pe=ge,he={components:{PostTag:pe},data(){return{outlineColors:["red","blue","green","yellow","white","purple","pink","orange","salmon"],leavesMutable:this.leaves,executed:!1}},setup(){const e=(0,n.tv)();return{router:e}},props:["_id","title","content","username","postComment","date","picture","color","views","comments","feedMode","tags","leaves"],methods:{...(0,h.nv)("message",["setLoginError"]),formatStory(e){const t=e.replace(/<br>/g,"\n");return t.length>700&&this.feedMode?t.substring(0,700)+"...":t},navigateToPost(){this.router.push("/post/"+this._id.$oid)},navigateToUser(){this.router.push("/user/"+this.username)},increaseLeaves(){if(this.isLoggedIn){const e={post_id:this._id.$oid,username:this.currentUser,username_receiver:this.username};if(this.executed)if(this.leavesMutable.includes(this.currentUser)){const e=this.leavesMutable.indexOf(this.currentUser);-1!==e&&this.leavesMutable.splice(e,1)}else this.leavesMutable.push(this.currentUser);else{if(this.leavesMutable.includes(this.currentUser)){const t=this.leavesMutable.indexOf(this.currentUser);-1!==t&&this.leavesMutable.splice(t,1),A.Z.post(`${_}/remove_leaves_post`,e).catch((e=>{console.log(e)}))}else this.leavesMutable.push(this.currentUser),A.Z.post(`${_}/add_leaves_post`,e).catch((e=>{console.log(e)}));this.executed=!0}}else this.setLoginError()}},computed:{...(0,h.Se)("auth",["isLoggedIn","currentUser","userFetchedPicture","colorFetched"]),imgSource(){return s(5459)("./"+this.picture)},outlineClass(){return`outline ${this.color}`},checkLength(){return this.content.length>=697}}};const Ae=(0,f.Z)(he,[["render",ce],["__scopeId","data-v-3d5f2315"]]);var _e=Ae;const ve=e=>((0,a.dD)("data-v-63052271"),e=e(),(0,a.Cn)(),e),we={class:"origin-container"},fe={class:"origin"},Ce={style:{"font-weight":"bold"}},ye={class:"story__user-img-container"},be=["src"],ke={class:"story__user-info-container"},Te={class:"story__user-comment-container"},De={class:"story__user-comment cur-def"},xe={class:"story__username cur-pnt"},Ie=ve((()=>(0,a._)("span",{class:"lower",style:{color:"whitesmoke"}},[(0,a._)("b",null,"@")],-1))),Be={class:"story__user-name"},Se={class:"story__username-date lower cur-def"},Me=ve((()=>(0,a._)("div",{class:"separator"},null,-1))),Ee={class:"story__upper"},Le={class:"story__title"},Ue=ve((()=>(0,a._)("span",{class:"story_title highlight1"},"CHAPTER",-1))),Pe={class:"story_title highlight"},Fe={class:"tag-section"},Qe={class:"story__content"},je={key:0,class:"readmore-button"},He=ve((()=>(0,a._)("em",null,"Read more",-1))),Je=[He],Ye=ve((()=>(0,a._)("div",{class:"separator"},null,-1))),ze={class:"story-stats user-select-none"},Oe={class:"story-stats-section view"},Ze=ve((()=>(0,a._)("span",{class:"material-symbols-outlined margin1 view-icon"},"bar_chart",-1)));function Ne(e,t,s,n,i,r){const l=(0,a.up)("post-tag");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",{class:(0,k.C_)(r.outlineClass)},[(0,a._)("span",null,[(0,a._)("div",we,[(0,a._)("div",fe,[(0,a.Uk)('Contributed to "'),(0,a._)("span",Ce,(0,k.zw)(s.storyTitle),1),(0,a.Uk)('"')])]),(0,a._)("div",{class:"story__user-container",onClick:t[2]||(t[2]=(...e)=>r.navigateToPost&&r.navigateToPost(...e))},[(0,a._)("div",ye,[(0,a._)("span",{onClick:t[0]||(t[0]=(0,o.iM)(((...e)=>r.navigateToUser&&r.navigateToUser(...e)),["stop"])),style:{color:"inherit","text-decoration":"none"}},[s.picture?((0,a.wg)(),(0,a.iD)("img",{key:0,src:r.imgSource,alt:"pic",class:"story__user-img"},null,8,be)):(0,a.kq)("",!0)])]),(0,a._)("div",ke,[(0,a._)("div",Te,[(0,a._)("div",De,(0,k.zw)(s.postComment),1)]),(0,a._)("div",xe,[(0,a._)("span",{onClick:t[1]||(t[1]=(0,o.iM)(((...e)=>r.navigateToUser&&r.navigateToUser(...e)),["stop"])),style:{color:"inherit","text-decoration":"none"}},[Ie,(0,a._)("b",Be,(0,k.zw)(s.username),1)]),(0,a._)("span",Se,"Â· "+(0,k.zw)(s.date),1)])])]),Me,(0,a._)("article",{class:"story__article",onClick:t[3]||(t[3]=(...e)=>r.navigateToPost&&r.navigateToPost(...e))},[(0,a._)("div",Ee,[(0,a._)("h2",Le,[Ue,(0,a._)("span",Pe,(0,k.zw)(s.chapterNum),1),(0,a.Uk)((0,k.zw)(s.chapterName.toUpperCase()),1)])]),(0,a._)("div",Fe,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.tags,(e=>((0,a.wg)(),(0,a.j4)(l,{key:e,clickable:!1,tag:e},null,8,["tag"])))),128))]),(0,a._)("p",Qe,[(0,a.Uk)((0,k.zw)(r.formatStory(s.content))+" ",1),r.checkLength?((0,a.wg)(),(0,a.iD)("b",je,Je)):(0,a.kq)("",!0)])]),Ye,(0,a._)("div",ze,[(0,a._)("div",{class:(0,k.C_)(["story-stats-section leaf",[i.leavesMutable.includes(e.currentUser)?"includes-leaf":""]]),onClick:t[4]||(t[4]=(0,o.iM)(((...e)=>r.increaseLeaves&&r.increaseLeaves(...e)),["prevent"]))},[(0,a._)("span",{class:(0,k.C_)(["material-symbols-outlined margin1 leaf-icon",[i.leavesMutable.includes(e.currentUser)?"includes-leaf-icon":""]])}," nest_eco_leaf ",2),(0,a.Uk)(" "+(0,k.zw)(i.leavesMutable.length),1)],2),(0,a._)("div",Oe,[Ze,(0,a.Uk)((0,k.zw)(s.views),1)])])])],2)])}var Ve={components:{PostTag:pe},data(){return{outlineColors:["red","blue","green","yellow","white","purple","pink","orange","salmon"],leavesMutable:this.leaves,executed:!1}},setup(){const e=(0,n.tv)();return{router:e}},props:["_id","content","username","postComment","storyTitle","color","date","picture","chapterNum","storyId","parentChapterId","chapterName","tags","leaves","views","feedMode"],methods:{...(0,h.nv)("message",["setLoginError"]),formatStory(e){const t=e.replace(/<br>/g,"\n");return t.length>700&&this.feedMode?t.substring(0,700)+"...":t},navigateToPost(){this.router.push("/chapter/"+this._id.$oid)},navigateToUser(){this.router.push("/user/"+this.username)},increaseLeaves(){if(this.isLoggedIn){const e={chapter_id:this._id.$oid,username:this.currentUser,username_receiver:this.username};if(this.executed)if(this.leavesMutable.includes(this.currentUser)){const e=this.leavesMutable.indexOf(this.currentUser);-1!==e&&this.leavesMutable.splice(e,1)}else this.leavesMutable.push(this.currentUser);else{if(this.leavesMutable.includes(this.currentUser)){const t=this.leavesMutable.indexOf(this.currentUser);-1!==t&&this.leavesMutable.splice(t,1),A.Z.post(`${_}/remove_leaves_chapter`,e).catch((e=>{console.log(e)}))}else this.leavesMutable.push(this.currentUser),A.Z.post(`${_}/add_leaves_chapter`,e).catch((e=>{console.log(e)}));this.executed=!0}}else this.setLoginError()}},computed:{...(0,h.Se)("auth",["isLoggedIn","currentUser","userFetchedPicture","colorFetched"]),imgSource(){return s(5459)("./"+this.picture)},outlineClass(){return`outline ${this.color}`},checkLength(){return this.content.length>=697}}};const Ge=(0,f.Z)(Ve,[["render",Ne],["__scopeId","data-v-63052271"]]);var We=Ge,Re={props:["posts","loading"],components:{PostContainer:_e,ContinuestoryfeedContainer:We,FeedContainer:b},methods:{formatContent(e){return e.replace(/<br>/g,"\n")}},mounted(){}};const qe=(0,f.Z)(Re,[["render",U]]);var Xe=qe;const Ke=e=>((0,a.dD)("data-v-05296e64"),e=e(),(0,a.Cn)(),e),$e={key:0},et={key:0},tt={key:1},st={key:1,class:"loader-container"},ot=Ke((()=>(0,a._)("div",{class:"spinner-border text-light mb-3",style:{width:"5rem",height:"5rem"},role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")],-1))),nt=Ke((()=>(0,a._)("span",{class:"loader-text"},"Looking for your friends...",-1))),at=[ot,nt];function it(e,t,s,o,n,i){const r=(0,a.up)("post-container"),l=(0,a.up)("continuestoryfeed-container"),c=(0,a.up)("astronaut-message"),u=(0,a.up)("feed-container");return(0,a.wg)(),(0,a.j4)(u,null,{default:(0,a.w5)((()=>[s.loading?((0,a.wg)(),(0,a.iD)("span",st,at)):((0,a.wg)(),(0,a.iD)("span",$e,[s.posts.following.length>=1?((0,a.wg)(),(0,a.iD)("div",et,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.posts.following,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e._id},["prologue"===e.type?((0,a.wg)(),(0,a.j4)(r,{key:0,_id:e._id,title:e.title,content:e.content,username:e.username,postComment:e.comment,date:e.date,picture:e.picture,color:e.color,comments:e.user_comments,views:e.views,tags:e.tags,leaves:e.leaves,feedMode:!0},null,8,["_id","title","content","username","postComment","date","picture","color","comments","views","tags","leaves"])):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},["chapter"===e.type?((0,a.wg)(),(0,a.j4)(l,{key:0,_id:e._id,storyId:e.story_id,parentChapterId:e.parent_chapter_id,content:e.content,chapterName:e.chapter_name,chapterNum:e.chapter_num,username:e.username,color:e.color,storyTitle:e.story_title,postComment:e.comment,date:e.date,picture:e.picture,views:e.views,leaves:e.leaves,tags:e.tags},null,8,["_id","storyId","parentChapterId","content","chapterName","chapterNum","username","color","storyTitle","postComment","date","picture","views","leaves","tags"])):(0,a.kq)("",!0)],64))])))),128))])):((0,a.wg)(),(0,a.iD)("div",tt,[(0,a.Wm)(c,{onomatopoeia:"crick crick",text:"Looks like you aren't following anyone yet..."},null,8,["text"])]))]))])),_:1})}var rt=s(1996);const lt=e=>((0,a.dD)("data-v-13214c20"),e=e(),(0,a.Cn)(),e),ct={key:0,class:"imagecontainer"},ut={key:0,class:"onomatopoeia"},dt=lt((()=>(0,a._)("img",{class:"astronaut-image",src:rt,alt:"astronaut floating"},null,-1))),mt={key:1,class:"loader-text-below"},gt={key:2,class:"loader-text-below"},pt={key:1,class:"imagecontainer"},ht={key:0,class:"onomatopoeia"},At={key:1,class:"loader-text-above"},_t={key:2,class:"loader-text-above"},vt=lt((()=>(0,a._)("img",{class:"astronaut-image",src:rt,alt:"astronaut floating"},null,-1)));function wt(e,t,s,o,n,i){return s.flipped?((0,a.wg)(),(0,a.iD)("div",pt,[s.onomatopoeia?((0,a.wg)(),(0,a.iD)("div",ht,(0,k.zw)(s.onomatopoeia),1)):(0,a.kq)("",!0),s.text?((0,a.wg)(),(0,a.iD)("div",At,'"'+(0,k.zw)(s.text)+'"',1)):((0,a.wg)(),(0,a.iD)("div",_t,'"'+(0,k.zw)(s.text)+'"',1)),vt])):((0,a.wg)(),(0,a.iD)("div",ct,[s.onomatopoeia?((0,a.wg)(),(0,a.iD)("div",ut,(0,k.zw)(s.onomatopoeia),1)):(0,a.kq)("",!0),dt,s.text?((0,a.wg)(),(0,a.iD)("div",mt,(0,k.zw)(s.text),1)):((0,a.wg)(),(0,a.iD)("div",gt,(0,k.zw)(s.text),1))]))}var ft={props:["onomatopoeia","text","flipped"]};const Ct=(0,f.Z)(ft,[["render",wt],["__scopeId","data-v-13214c20"]]);var yt=Ct,bt={props:["posts","loading"],components:{PostContainer:_e,FeedContainer:b,AstronautMessage:yt,ContinuestoryfeedContainer:We},methods:{formatContent(e){return e.replace(/<br>/g,"\n")}}};const kt=(0,f.Z)(bt,[["render",it],["__scopeId","data-v-05296e64"]]);var Tt=kt;const Dt=e=>((0,a.dD)("data-v-5d9767ae"),e=e(),(0,a.Cn)(),e),xt={class:"alert alert-success d-flex align-items-center m-1 mt-2 mb-2 p-1 displays",role:"alert"},It=Dt((()=>(0,a._)("div",{class:"material-symbols-outlined ml-2"},"done",-1))),Bt={class:"mr-2"},St=Dt((()=>(0,a._)("strong",null,"Logged in successfully",-1)));function Mt(e,t,s,o,n,i){return(0,a.wg)(),(0,a.iD)("div",xt,[It,(0,a._)("div",Bt,[St,(0,a.Uk)(" at "+(0,k.zw)(n.currentTime.toLocaleTimeString()),1)])])}var Et={data(){return{currentTime:new Date}}};const Lt=(0,f.Z)(Et,[["render",Mt],["__scopeId","data-v-5d9767ae"]]);var Ut=Lt;const Pt=e=>((0,a.dD)("data-v-aa01713a"),e=e(),(0,a.Cn)(),e),Ft={key:0},Qt={class:"block"},jt={class:"rectangle"},Ht=Pt((()=>(0,a._)("div",null,"Latest",-1))),Jt={class:"rectangle"},Yt=Pt((()=>(0,a._)("div",null,"Following",-1))),zt={key:1},Ot={class:"block"},Zt={class:"rectangle short"},Nt=Pt((()=>(0,a._)("div",{class:"text"},"All",-1))),Vt={class:"rectangle"},Gt=Pt((()=>(0,a._)("div",{class:"text"},"Chapters",-1))),Wt={class:"rectangle"},Rt=Pt((()=>(0,a._)("div",{class:"text"},"Comments",-1)));function qt(e,t,s,o,n,i){const r=(0,a.up)("select-button");return s.homePage?((0,a.wg)(),(0,a.iD)("div",Ft,[(0,a._)("div",Qt,[(0,a._)("div",jt,[(0,a.Wm)(r,{onClick:t[0]||(t[0]=e=>i.setSelectedTab1("latest-feed")),mode:"following-feed"===n.selectedTab1?"null":"flat",selected:"latest-feed"===n.selectedTab1},{default:(0,a.w5)((()=>[Ht])),_:1},8,["mode","selected"])]),(0,a._)("div",Jt,[(0,a.Wm)(r,{onClick:t[1]||(t[1]=e=>i.setSelectedTab1("following-feed")),mode:"following-feed"===n.selectedTab1?"flat":"null",selected:"following-feed"===n.selectedTab1},{default:(0,a.w5)((()=>[Yt])),_:1},8,["mode","selected"])])])])):((0,a.wg)(),(0,a.iD)("div",zt,[(0,a._)("div",Ot,[(0,a._)("div",Zt,[(0,a.Wm)(r,{onClick:t[2]||(t[2]=e=>i.setSelectedTab2("all")),mode:"all"===n.selectedTab2?"flat":"null",selected:"all"===n.selectedTab2},{default:(0,a.w5)((()=>[Nt])),_:1},8,["mode","selected"])]),(0,a._)("div",Vt,[(0,a.Wm)(r,{onClick:t[3]||(t[3]=e=>i.setSelectedTab2("chapters")),mode:"chapters"===n.selectedTab2?"flat":"null",selected:"chapters"===n.selectedTab2},{default:(0,a.w5)((()=>[Gt])),_:1},8,["mode","selected"])]),(0,a._)("div",Wt,[(0,a.Wm)(r,{onClick:t[4]||(t[4]=e=>i.setSelectedTab2("comments")),mode:"comments"===n.selectedTab2?"flat":"null",selected:"comments"===n.selectedTab2},{default:(0,a.w5)((()=>[Rt])),_:1},8,["mode","selected"])])])]))}var Xt={components:{SelectButton:B},props:["homePage"],data(){return{selectedTab1:"latest-feed",selectedTab2:"all"}},methods:{setSelectedTab1(e){console.log("poll"),this.selectedTab1=e,this.$emit("selected-tab",e)},setSelectedTab2(e){this.selectedTab2=e,this.$emit("selected-tab",e)}},mounted(){this.homePage?this.$emit("selected-tab",this.selectedTab1):this.$emit("selected-tab",this.selectedTab2)}};const Kt=(0,f.Z)(Xt,[["render",qt],["__scopeId","data-v-aa01713a"]]);var $t=Kt,es={components:{FeedContainer:b,SelectButton:B,LatestFeed:Xe,FollowingFeed:Tt,SuccessMessage:Ut,ButtonblockSelector:$t},setup(){const e=(0,n.tv)();return{router:e}},data(){return{posts:{},openDialog:!0,userLogged:!0,text:" ",showCharacter:!0,loading:!0,loggedOutLoading:!1,loggedOutImageLoaded:!1,selectedTab:"latest-feed"}},mounted(){this.isLoggedIn?A.Z.get(`${_}/homepage_posts/${this.currentUser}`).then((e=>{this.posts=e.data,this.loading=!1,this.loggedOutLoading=!1})).catch((e=>{console.log(e)})):this.router.push("/")},methods:{navigateToNewPost(){this.router.push("/newpost")},navigateToProfile(){return"/user/"+this.currentUser},handleSelectedTab(e){this.selectedTab=e}},computed:{...(0,h.Se)("auth",["isLoggedIn","currentUser","userFetchedPicture","colorFetched"]),imgSource(){return s(5459)("./"+this.userFetchedPicture)}}};const ts=(0,f.Z)(es,[["render",p],["__scopeId","data-v-2bdc51b0"]]);var ss=ts;const os=e=>((0,a.dD)("data-v-e5235092"),e=e(),(0,a.Cn)(),e),ns=os((()=>(0,a._)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20,300,1,200"},null,-1))),as={class:"story-container"},is={class:"main-title-container"},rs={class:"main-title"},ls={class:"tag-section"},cs={class:"story-stats user-select-none"},us=os((()=>(0,a._)("span",{class:"material-symbols-outlined margin1"},"bar_chart",-1))),ds=os((()=>(0,a._)("span",{class:"material-symbols-outlined margin1"},"call_split",-1))),ms=os((()=>(0,a._)("span",null,"0",-1))),gs=os((()=>(0,a._)("span",{class:"material-symbols-outlined margin1"},"chat",-1))),ps={key:1},hs=os((()=>(0,a._)("h2",{class:"add-story d-flex align-items-center"},[(0,a.Uk)(" START NEW STORYLINE "),(0,a._)("span",{class:"material-symbols-outlined margin-arrow"},"arrow_forward"),(0,a._)("span",{class:"highlight1 m-1"},"CHAPTER"),(0,a._)("span",{class:"highlight1"},"1")],-1))),As=[hs],_s={key:1,class:"add-comment-box"},vs={class:"newstory_comment"},ws={class:"image_box"},fs=["src"],Cs={class:"buttonbox"},ys=os((()=>(0,a._)("span",{class:"material-symbols-outlined"},"chat_bubble",-1))),bs=os((()=>(0,a._)("div",{class:"loader-container"},[(0,a._)("div",{class:"spinner-border text-light mb-3",style:{width:"5rem",height:"5rem"},role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")]),(0,a._)("span",{class:"loader-text"},"Harvesting story from story tree")],-1)));function ks(e,t,s,n,i,r){const l=(0,a.up)("info-message"),c=(0,a.up)("post-tag"),u=(0,a.up)("small-tooltip"),d=(0,a.up)("chapteredprologue-container"),m=(0,a.up)("writechapter-container"),g=(0,a.up)("login-message"),p=(0,a.up)("comment-button"),h=(0,a.up)("buttonblock-selector"),A=(0,a.up)("feed-container");return(0,a.wg)(),(0,a.iD)(a.HY,null,[ns,i.loading?((0,a.wg)(),(0,a.j4)(A,{key:1},{default:(0,a.w5)((()=>[bs])),_:1})):((0,a.wg)(),(0,a.j4)(A,{key:0},{default:(0,a.w5)((()=>[(0,a.Wm)(l),(0,a._)("div",as,[(0,a._)("div",is,[(0,a._)("h2",rs,(0,k.zw)(i.post.title.toUpperCase()),1)]),(0,a._)("div",ls,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.post.tags,(e=>((0,a.wg)(),(0,a.j4)(c,{key:e,clickable:!1,tag:e},null,8,["tag"])))),128))]),(0,a._)("div",cs,[(0,a._)("div",{class:(0,k.C_)(["story-stats-section",[i.post.leaves.includes(e.currentUser)?"includes-leaf-icon":""]]),onMouseover:t[0]||(t[0]=e=>i.showLeavesTooltip=!0),onMouseout:t[1]||(t[1]=e=>i.showLeavesTooltip=!1)},[(0,a._)("span",{class:(0,k.C_)(["material-symbols-outlined margin1 leaf-icon",[i.post.leaves.includes(e.currentUser)?"includes-leaf-icon":""]])},"nest_eco_leaf",2),(0,a._)("span",null,(0,k.zw)(i.post.leaves.length),1),(0,a.Wm)(u,{condition:i.showLeavesTooltip,text:"Storyline leaves",top:"35px"},null,8,["condition"])],34),(0,a._)("div",{class:"story-stats-section",onMouseover:t[2]||(t[2]=e=>i.showViewsTooltip=!0),onMouseout:t[3]||(t[3]=e=>i.showViewsTooltip=!1)},[us,(0,a._)("span",null,(0,k.zw)(i.post.views),1),(0,a.Wm)(u,{condition:i.showViewsTooltip,text:"Highest views",top:"35px"},null,8,["condition"])],32),(0,a._)("div",{class:"story-stats-section",onMouseover:t[4]||(t[4]=e=>i.showChaptersTooltip=!0),onMouseout:t[5]||(t[5]=e=>i.showChaptersTooltip=!1)},[ds,ms,(0,a.Wm)(u,{condition:i.showChaptersTooltip,text:"Mounted chapters",top:"35px"},null,8,["condition"])],32),(0,a._)("div",{class:"story-stats-section",onMouseover:t[6]||(t[6]=e=>i.showCommentsTooltip=!0),onMouseout:t[7]||(t[7]=e=>i.showCommentsTooltip=!1)},[gs,(0,a._)("span",null,(0,k.zw)(i.post.user_comments.length),1),(0,a.Wm)(u,{condition:i.showCommentsTooltip,text:"Comments",top:"35px"},null,8,["condition"])],32)]),i.post?((0,a.wg)(),(0,a.j4)(d,{key:0,_id:i.post._id,title:i.post.title,content:i.post.content,username:i.post.username,postComment:i.post.comment,date:i.post.date,picture:i.post.picture,color:i.post.color,feedMode:!1,class:"story__article"},null,8,["_id","title","content","username","postComment","date","picture","color"])):(0,a.kq)("",!0),e.isLoggedIn?((0,a.wg)(),(0,a.iD)("span",ps,[(0,a._)("div",{class:"add-story-container",onClick:t[8]||(t[8]=(...e)=>r.toggleContinueContainer&&r.toggleContinueContainer(...e))},As),i.showContinueContainer?((0,a.wg)(),(0,a.j4)(m,{key:0,chapterNum:1,username:e.currentUser,postId:i.post._id,postTitle:i.post.title,parentChapterId:null,tags:i.post.tags},null,8,["username","postId","postTitle","tags"])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)]),e.isLoggedIn?((0,a.wg)(),(0,a.iD)("div",_s,[(0,a._)("form",{onSubmit:t[10]||(t[10]=(0,o.iM)(((...e)=>r.submitComment&&r.submitComment(...e)),["prevent"]))},[(0,a._)("div",vs,[(0,a._)("div",ws,[(0,a._)("img",{class:"postimage",src:r.imgSource,alt:"profilepic"},null,8,fs)]),(0,a.wy)((0,a._)("textarea",{id:"comment","onUpdate:modelValue":t[9]||(t[9]=e=>i.formcomment=e),placeholder:"Add a comment...",rows:"1",style:(0,k.j5)({height:i.textareaHeight}),required:""},null,4),[[o.nr,i.formcomment]]),(0,a._)("div",Cs,[(0,a.Wm)(p,{text:"COMMENT",margin:!0},{default:(0,a.w5)((()=>[ys])),_:1})])])],32)])):((0,a.wg)(),(0,a.j4)(g,{key:0,text:"to comment and continue storylines"})),(0,a.Wm)(h,{homePage:!1,onSelectedTab:r.handleSelectedTab},null,8,["onSelectedTab"]),(0,a.Wm)(o.uT,{name:"fade",mode:"out-in"},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.j4)((0,a.LL)(i.selectedTab),{loading:i.loading,replies:i.replies,chapterList:[]},null,8,["loading","replies"]))])),_:1})])),_:1}))],64)}s(541);const Ts=e=>((0,a.dD)("data-v-021f4dde"),e=e(),(0,a.Cn)(),e),Ds={class:"story__user-container"},xs={class:"story__user-img-container"},Is=["src"],Bs={class:"story__user-info-container"},Ss={class:"story__username cur-pnt"},Ms=Ts((()=>(0,a._)("span",{class:"lower",style:{color:"whitesmoke"}},[(0,a._)("b",null,"@")],-1))),Es={class:"story__user-name"},Ls={class:"story__username-date lower cur-def"},Us={class:"story__article"},Ps=Ts((()=>(0,a._)("div",{class:"story__upper"},[(0,a._)("h2",{class:"story__title"},[(0,a._)("span",{class:"story_title highlight"},"PROLOGUE")])],-1))),Fs={class:"story__content"};function Qs(e,t,s,n,i,r){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",{class:(0,k.C_)(r.outlineClass)},[(0,a._)("span",{onClick:t[2]||(t[2]=(...e)=>r.navigateToPost&&r.navigateToPost(...e)),style:{"text-decoration":"none"}},[(0,a._)("div",Ds,[(0,a._)("div",xs,[(0,a._)("span",{onClick:t[0]||(t[0]=(0,o.iM)(((...e)=>r.navigateToUser&&r.navigateToUser(...e)),["stop"])),style:{color:"inherit","text-decoration":"none"}},[s.picture?((0,a.wg)(),(0,a.iD)("img",{key:0,src:r.imgSource,alt:"pic",class:"story__user-img"},null,8,Is)):(0,a.kq)("",!0)])]),(0,a._)("div",Bs,[(0,a._)("div",Ss,[(0,a._)("span",{onClick:t[1]||(t[1]=(0,o.iM)(((...e)=>r.navigateToUser&&r.navigateToUser(...e)),["stop"])),style:{color:"inherit","text-decoration":"none"}},[Ms,(0,a._)("b",Es,(0,k.zw)(s.username),1)]),(0,a._)("span",Ls,"Â· "+(0,k.zw)(s.date),1)])])]),(0,a._)("article",Us,[Ps,(0,a._)("p",Fs,(0,k.zw)(r.formatStory(s.content)),1)])])],2)])}var js={setup(){const e=(0,n.tv)();return{router:e}},props:["_id","title","content","username","postComment","date","picture","color","feedMode"],methods:{formatStory(e){const t=e.replace(/<br>/g,"\n");return t.length>700&&this.feedMode?t.substring(0,700)+"...":t},navigateToPost(){this.router.push("/post/"+this._id.$oid)},navigateToUser(){this.router.push("/user/"+this.username)}},computed:{imgSource(){return s(5459)("./"+this.picture)},outlineClass(){return`outline ${this.color}`},checkLength(){return this.content.length>=697}}};const Hs=(0,f.Z)(js,[["render",Qs],["__scopeId","data-v-021f4dde"]]);var Js=Hs;const Ys=e=>((0,a.dD)("data-v-f4a965f0"),e=e(),(0,a.Cn)(),e),zs={class:"write-container"},Os={class:"newstory_comment"},Zs={class:"image_box"},Ns=["src"],Vs={class:"extended-container"},Gs={class:"story__user-name3"},Ws={class:"newstory_title marginated"},Rs={class:"newstory_title"},qs={class:"buttonbox"},Xs=Ys((()=>(0,a._)("span",{class:"material-symbols-outlined"},"outgoing_mail",-1)));function Ks(e,t,s,n,i,r){const l=(0,a.up)("submit-button");return(0,a.wg)(),(0,a.iD)("div",zs,[(0,a._)("form",{onSubmit:t[3]||(t[3]=(0,o.iM)(((...e)=>r.submitForm&&r.submitForm(...e)),["prevent"]))},[(0,a._)("div",Os,[(0,a._)("div",Zs,[e.userFetchedPicture?((0,a.wg)(),(0,a.iD)("img",{key:0,class:"postimage",src:r.imgSource,alt:"profilepic"},null,8,Ns)):(0,a.kq)("",!0)]),(0,a._)("div",Vs,[(0,a.wy)((0,a._)("textarea",{id:"comment","onUpdate:modelValue":t[0]||(t[0]=e=>i.formcomment=e),placeholder:"Author comment",rows:"1",style:(0,k.j5)({height:i.textareaHeight}),required:""},null,4),[[o.nr,i.formcomment]]),(0,a._)("span",Gs,[(0,a._)("b",null,"@"+(0,k.zw)(s.username),1),(0,a.Uk)(" Â· Now")])])]),(0,a._)("div",Ws,[(0,a.wy)((0,a._)("input",{id:"title",class:"title-for-story","onUpdate:modelValue":t[1]||(t[1]=e=>i.formtitle=e),type:"text",placeholder:"Chapter name",required:""},null,512),[[o.nr,i.formtitle]])]),(0,a._)("div",Rs,[(0,a.wy)((0,a._)("textarea",{id:"body","onUpdate:modelValue":t[2]||(t[2]=e=>i.formbody=e),placeholder:"Chapter content",required:""},null,512),[[o.nr,i.formbody]])]),(0,a._)("div",qs,[(0,a.Wm)(l,{text:"SUBMIT",buttonLoading:i.loading,margin:!0},{default:(0,a.w5)((()=>[Xs])),_:1},8,["buttonLoading"])])],32)])}const $s=e=>((0,a.dD)("data-v-2f847d16"),e=e(),(0,a.Cn)(),e),eo=["disabled"],to=$s((()=>(0,a._)("div",{class:"spinner-border spinner-border-sm",role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")],-1))),so=[to];function oo(e,t,s,o,n,i){return s.buttonLoading?((0,a.wg)(),(0,a.iD)("button",{key:1,class:(0,k.C_)(["button d-flex align-items-center",{disabled:s.buttonLoading,"custom-margin":s.margin}]),disabled:s.buttonLoading,type:"submit"},so,10,eo)):((0,a.wg)(),(0,a.iD)("button",{key:0,class:(0,k.C_)(["button d-flex align-items-center",{"custom-margin":s.margin}]),type:"submit"},[(0,a.WI)(e.$slots,"default",{},void 0,!0),(0,a.Uk)(" "+(0,k.zw)(s.text),1)],2))}var no={props:["buttonLoading","color","text","margin","buttonType"]};const ao=(0,f.Z)(no,[["render",oo],["__scopeId","data-v-2f847d16"]]);var io=ao,ro={name:"NewPost",components:{SubmitButton:io},props:["chapterNum","username","postId","postTitle","parentChapterId","tags"],data(){return{formtitle:"",formcomment:"",formbody:"",textareaHeight:0,textareaHeight1:0,loading:!1,isPostButtonDisabled:!1}},methods:{submitForm(){let e;this.loading=!0,e=null!==this.parentChapterId?this.parentChapterId.$oid:null;const t={comment:this.formcomment,title:this.formtitle,body:this.formbody,username:this.currentUser,storyId:this.postId.$oid,chapterNum:this.chapterNum,parentChapterId:e,postTitle:this.postTitle,tags:this.tags};v.post(`${_}/new_chapter`,t).then((e=>{this.loading=!1;const t=e.data;"Success"===t.status&&(this.isPostButtonDisabled=!0,Xl.push("/chapter/"+t.chapter_id.$oid))})).catch((e=>{console.log(e),this.loading=!1}))},adjustTextareaHeight(){const e=this.$el.querySelector("#comment");e.style.height="auto",e.style.height=e.scrollHeight+"px",this.textareaHeight=e.style.height},adjustTextareaHeight1(){const e=this.$el.querySelector("#body");e.style.height="auto",e.style.height=e.scrollHeight+"px",this.textareaHeight1=e.style.height}},watch:{formcomment(){this.formcomment=this.formcomment.substring(0,300),this.adjustTextareaHeight()},formbody(){this.formbody=this.formbody.substring(0,8001),this.adjustTextareaHeight1()},formtitle(){this.formtitle=this.formtitle.substring(0,66)}},mounted(){this.adjustTextareaHeight()},computed:{...(0,h.Se)("auth",["currentUser","userFetchedPicture","colorFetched","userFetchedBio","nFetchedPosts","nFetchedFollowers","nFetchedFollowing"]),imgSource(){return s(5459)("./"+this.userFetchedPicture)},postButtonText(){return this.isPostButtonDisabled?"Submitted":"Submit?"}}};const lo=(0,f.Z)(ro,[["render",Ks],["__scopeId","data-v-f4a965f0"]]);var co=lo;function uo(e,t,s,o,n,i){return s.condition?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"popup",style:(0,k.j5)({top:s.top,transform:s.transform})},(0,k.zw)(s.text),5)):(0,a.kq)("",!0)}var mo={props:["condition","text","top","transform"]};const go=(0,f.Z)(mo,[["render",uo],["__scopeId","data-v-368e154b"]]);var po=go;const ho=e=>((0,a.dD)("data-v-a3b44954"),e=e(),(0,a.Cn)(),e),Ao=["disabled"],_o=ho((()=>(0,a._)("div",{class:"spinner-border spinner-border-sm",role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")],-1))),vo=[_o];function wo(e,t,s,o,n,i){return s.buttonLoading?((0,a.wg)(),(0,a.iD)("button",{key:1,class:(0,k.C_)(["button d-flex align-items-center",{disabled:s.buttonLoading,"custom-margin":s.margin}]),disabled:s.buttonLoading,type:"submit"},vo,10,Ao)):((0,a.wg)(),(0,a.iD)("button",{key:0,class:(0,k.C_)(["button d-flex align-items-center",{"custom-margin":s.margin}]),type:"submit"},[(0,a.WI)(e.$slots,"default",{},void 0,!0),(0,a.Uk)(" "+(0,k.zw)(s.text),1)],2))}var fo={props:["buttonLoading","color","text","margin","buttonType"]};const Co=(0,f.Z)(fo,[["render",wo],["__scopeId","data-v-a3b44954"]]);var yo=Co;const bo=e=>((0,a.dD)("data-v-db900dd4"),e=e(),(0,a.Cn)(),e),ko={class:"boxy",role:"alert"},To=bo((()=>(0,a._)("strong",null,[(0,a.Uk)("How to "),(0,a._)("u",null,"mount"),(0,a.Uk)(" and "),(0,a._)("u",null,"unmount"),(0,a.Uk)(" chapters")],-1))),Do=bo((()=>(0,a._)("div",{class:"text"},"Look for a chapter in the replies section and select one to mount it. To unmount it, click on the previous chapter mounted.",-1))),xo=[To,Do];function Io(e,t){return(0,a.wg)(),(0,a.iD)("div",ko,xo)}const Bo={},So=(0,f.Z)(Bo,[["render",Io],["__scopeId","data-v-db900dd4"]]);var Mo=So;const Eo=e=>((0,a.dD)("data-v-4897f0fa"),e=e(),(0,a.Cn)(),e),Lo={class:"boxy",role:"alert"},Uo=Eo((()=>(0,a._)("strong",null,"Log In ",-1))),Po={class:"text"};function Fo(e,t,s,o,n,i){return(0,a.wg)(),(0,a.iD)("div",Lo,[Uo,(0,a._)("span",Po,(0,k.zw)(s.text),1)])}var Qo={props:["text"]};const jo=(0,f.Z)(Qo,[["render",Fo],["__scopeId","data-v-4897f0fa"]]);var Ho=jo;const Jo=(0,a._)("div",{class:"loader-container"},[(0,a._)("div",{class:"spinner-border text-light mb-3",style:{width:"5rem",height:"5rem"},role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")]),(0,a._)("span",{class:"loader-text"},"Harvesting story from story tree")],-1);function Yo(e,t,s,o,n,i){const r=(0,a.up)("comment-container"),l=(0,a.up)("continuestory-container"),c=(0,a.up)("astronaut-message"),u=(0,a.up)("feed-container");return s.loading?((0,a.wg)(),(0,a.j4)(u,{key:1},{default:(0,a.w5)((()=>[Jo])),_:1})):((0,a.wg)(),(0,a.j4)(u,{key:0},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.replies,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e._id},["comment"===e.type?((0,a.wg)(),(0,a.j4)(r,{key:0,_id:e._id,content:e.comment,username:e.username,date:e.date,picture:e.picture},null,8,["_id","content","username","date","picture"])):"chapter"!==e.type||s.chapterList.some((t=>t._id.$oid===e._id.$oid))?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(l,{key:1,_id:e._id,storyId:e.story_id,parentChapterId:e.parent_chapter_id,content:e.content,chapterName:e.chapter_name,chapterNum:e.chapter_num,username:e.username,postComment:e.comment,date:e.date,picture:e.picture,tags:e.tags},null,8,["_id","storyId","parentChapterId","content","chapterName","chapterNum","username","postComment","date","picture","tags"]))])))),128)),0==s.replies.length?((0,a.wg)(),(0,a.j4)(c,{key:0,onomatopoeia:"crick crick",text:"No comments or chapters have been written for this story yet. You can be the first, hurry up!"},null,8,["text"])):(0,a.kq)("",!0)])),_:1}))}var zo=s(4308);const Oo=e=>((0,a.dD)("data-v-9e1a47d0"),e=e(),(0,a.Cn)(),e),Zo={class:"comment__user-container"},No=Oo((()=>(0,a._)("div",null,[(0,a._)("img",{src:zo,alt:"reply icon",style:{"max-width":"25px",margin:"0 0px 0 0px",transform:"scaleX(-1)"}})],-1))),Vo={class:"comment__user-img-container"},Go=["src"],Wo={class:"story__user-info-container"},Ro={class:"comment__username cur-pnt"},qo=Oo((()=>(0,a._)("span",{class:"lower"},[(0,a._)("b",null,"@")],-1))),Xo={class:"story__user-name"},Ko={class:"comment__username-date lower cur-def"},$o={class:"comment__user-comment-container"},en={class:"comment__user-comment cur-def"};function tn(e,t,s,n,i,r){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",Zo,[No,(0,a._)("div",Vo,[(0,a._)("span",{onClick:t[0]||(t[0]=(0,o.iM)(((...e)=>r.navigateToUser&&r.navigateToUser(...e)),["stop"]))},[s.picture?((0,a.wg)(),(0,a.iD)("img",{key:0,src:r.imgSource,alt:"Profile picture",class:"comment__user-img"},null,8,Go)):(0,a.kq)("",!0)])]),(0,a._)("div",Wo,[(0,a._)("div",Ro,[(0,a._)("span",{onClick:t[1]||(t[1]=(0,o.iM)(((...e)=>r.navigateToUser&&r.navigateToUser(...e)),["stop"])),style:{color:"inherit","text-decoration":"none"}},[qo,(0,a._)("b",Xo,(0,k.zw)(s.username),1)]),(0,a._)("span",Ko,"Â· "+(0,k.zw)(s.date),1)]),(0,a._)("div",$o,[(0,a._)("div",en,(0,k.zw)(s.content),1)])])])])}var sn={data(){return{}},setup(){const e=(0,n.tv)();return{router:e}},props:["_id","content","username","date","picture"],components:{},methods:{navigateToUser(){this.router.push("/user/"+this.username)}},computed:{imgSource(){return s(5459)("./"+this.picture)}}};const on=(0,f.Z)(sn,[["render",tn],["__scopeId","data-v-9e1a47d0"]]);var nn=on,an=s(9922);const rn=e=>((0,a.dD)("data-v-283a5c59"),e=e(),(0,a.Cn)(),e),ln={class:"background-story-reply2"},cn={class:"story__user-container2"},un=rn((()=>(0,a._)("div",{class:"sum-icon-container2"},[(0,a._)("img",{src:an,alt:"Plus icon",class:"sum-icon2"})],-1))),dn={class:"story__user-img-container2"},mn=["src"],gn={class:"story__user-info-container2"},pn={class:"story__username2 cur-pnt"},hn=rn((()=>(0,a._)("span",{class:"lower",style:{color:"whitesmoke"}},[(0,a._)("b",null,"@")],-1))),An={class:"story__user-name2"},_n={class:"story__username-date2 lower cur-def"},vn={class:"story__user-comment-container2"},wn={class:"story__user-comment2 cur-def"},fn={class:"story__article2"},Cn={class:"story__upper"},yn={class:"story__title"},bn={class:"story_title highlight"},kn={class:"story__content2"};function Tn(e,t,s,n,i,r){return(0,a.wg)(),(0,a.iD)("div",ln,[(0,a._)("span",{onClick:t[2]||(t[2]=(...e)=>r.navigateToPost&&r.navigateToPost(...e)),style:{"text-decoration":"none"}},[(0,a._)("div",cn,[un,(0,a._)("div",dn,[(0,a._)("span",{onClick:t[0]||(t[0]=(0,o.iM)(((...e)=>r.navigateToUser&&r.navigateToUser(...e)),["stop"])),style:{color:"inherit","text-decoration":"none"}},[(0,a._)("img",{src:r.imgSource,alt:"pic",class:"story__user-img2"},null,8,mn)])]),(0,a._)("div",gn,[(0,a._)("div",pn,[(0,a._)("span",{onClick:t[1]||(t[1]=(0,o.iM)(((...e)=>r.navigateToUser&&r.navigateToUser(...e)),["stop"])),style:{color:"inherit","text-decoration":"none"}},[hn,(0,a._)("b",An,(0,k.zw)(s.username),1)]),(0,a._)("span",_n,"Â· "+(0,k.zw)(s.date),1)]),(0,a._)("div",vn,[(0,a._)("div",wn,(0,k.zw)(s.postComment),1)])])]),(0,a._)("article",fn,[(0,a._)("div",Cn,[(0,a._)("h2",yn,[(0,a._)("span",bn,"CHAPTER "+(0,k.zw)(s.chapterNum),1),(0,a.Uk)((0,k.zw)(s.chapterName.toUpperCase()),1)])]),(0,a._)("p",kn,(0,k.zw)(r.formatStory(s.content)),1)])])])}var Dn={setup(){const e=(0,n.tv)();return{router:e}},props:["_id","content","username","postComment","date","picture","chapterNum","storyId","parentChapterId","chapterName","tags"],methods:{formatStory(e){return e=e.replace(/<br>/g,"\n"),e.length,e},...(0,h.nv)("emitdata",["emitData"]),navigateToPost(){const e={_id:this._id,content:this.content,username:this.username,postComment:this.postComment,date:this.date,picture:this.picture};this.emitData(e),this.router.push("/chapter/"+this._id.$oid)},navigateToUser(){this.router.push("/user/"+this.username)}},computed:{imgSource(){return s(5459)("./"+this.picture)}}};const xn=(0,f.Z)(Dn,[["render",Tn],["__scopeId","data-v-283a5c59"]]);var In=xn,Bn={props:["replies","loading","chapterList"],components:{CommentContainer:nn,ContinuestoryContainer:In,AstronautMessage:yt,FeedContainer:b}};const Sn=(0,f.Z)(Bn,[["render",Yo]]);var Mn=Sn;const En=(0,a._)("div",{class:"loader-container"},[(0,a._)("div",{class:"spinner-border text-light mb-3",style:{width:"5rem",height:"5rem"},role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")]),(0,a._)("span",{class:"loader-text"},"Harvesting chapters...")],-1);function Ln(e,t,s,o,n,i){const r=(0,a.up)("continuestory-container"),l=(0,a.up)("astronaut-message"),c=(0,a.up)("feed-container");return s.loading?((0,a.wg)(),(0,a.j4)(c,{key:1},{default:(0,a.w5)((()=>[En])),_:1})):((0,a.wg)(),(0,a.j4)(c,{key:0},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.replies,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e._id},["chapter"!==e.type||s.chapterList.some((t=>t._id.$oid===e._id.$oid))?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(r,{key:0,_id:e._id,storyId:e.story_id,parentChapterId:e.parent_chapter_id,content:e.content,chapterName:e.chapter_name,chapterNum:e.chapter_num,username:e.username,postComment:e.comment,date:e.date,picture:e.picture,tags:e.tags},null,8,["_id","storyId","parentChapterId","content","chapterName","chapterNum","username","postComment","date","picture","tags"]))])))),128)),s.replies.length>0?((0,a.wg)(),(0,a.j4)(l,{key:0,onomatopoeia:"crick crick",text:"No comments or chapters have been written for this story yet. You can be the first, hurry up!"},null,8,["text"])):(0,a.kq)("",!0)])),_:1}))}var Un={props:["replies","loading","chapterList"],components:{ContinuestoryContainer:In,AstronautMessage:yt,FeedContainer:b},computed:{hasValidReplies(){return this.replies.some((e=>"chapter"===e.type&&!this.chapterList.some((t=>t._id===e._id))))}}};const Pn=(0,f.Z)(Un,[["render",Ln]]);var Fn=Pn;const Qn=(0,a._)("div",{class:"loader-container"},[(0,a._)("div",{class:"spinner-border text-light mb-3",style:{width:"5rem",height:"5rem"},role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")]),(0,a._)("span",{class:"loader-text"},"Harvesting story from story tree")],-1);function jn(e,t,s,o,n,i){const r=(0,a.up)("comment-container"),l=(0,a.up)("astronaut-message"),c=(0,a.up)("feed-container");return s.loading?((0,a.wg)(),(0,a.j4)(c,{key:1},{default:(0,a.w5)((()=>[Qn])),_:1})):((0,a.wg)(),(0,a.j4)(c,{key:0},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.replies,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e._id},["comment"===e.type?((0,a.wg)(),(0,a.j4)(r,{key:0,_id:e._id,content:e.comment,username:e.username,date:e.date,picture:e.picture},null,8,["_id","content","username","date","picture"])):(0,a.kq)("",!0)])))),128)),0==s.replies.length?((0,a.wg)(),(0,a.j4)(l,{key:0,onomatopoeia:"crick crick",text:"No comments or chapters have been written for this story yet. You can be the first, hurry up!"},null,8,["text"])):(0,a.kq)("",!0)])),_:1}))}var Hn={props:["replies","loading"],components:{CommentContainer:nn,AstronautMessage:yt,FeedContainer:b}};const Jn=(0,f.Z)(Hn,[["render",jn]]);var Yn=Jn,zn={components:{FeedContainer:b,ChapteredprologueContainer:Js,WritechapterContainer:co,PostTag:pe,SmallTooltip:po,CommentButton:yo,InfoMessage:Mo,LoginMessage:Ho,ButtonblockSelector:$t,RepliesFeed:Mn,ChaptersFeed:Fn,CommentsFeed:Yn},data(){return{post:null,replies:null,formcomment:"",continuedStory:null,textareaHeight:null,loading:!0,showContinueContainer:!1,addedChapters:0,showLeavesTooltip:!1,showViewsTooltip:!1,showChaptersTooltip:!1,showCommentsTooltip:!1,selectedTab:"replies-feed"}},mounted(){const e=this.$route.params.id;A.Z.get(`${_}/post/${e}`).then((e=>{this.post=e.data.post,this.replies=e.data.replies,this.replies.forEach((e=>{"comment"!==e.type&&(this.addedChapters+=1)})),this.loading=!1}))},computed:{...(0,h.Se)("auth",["isLoggedIn","currentUser","userFetchedPicture","colorFetched"]),imgSource(){return s(5459)("./"+this.userFetchedPicture)}},methods:{adjustTextareaHeight(){const e=this.$el.querySelector("#comment");e.style.height="auto",e.style.height=e.scrollHeight+"px",this.textareaHeight=e.style.height},toggleContinueContainer(){this.showContinueContainer=!this.showContinueContainer},submitComment(){const e={username:this.currentUser,comment:this.formcomment,parentId:this.post._id.$oid};A.Z.post(`${_}/new_comment`,e).then((e=>{const t=e.data;this.replies.unshift(t.comment_data),this.formcomment=""})).catch((e=>{console.log(e)}))},handleSelectedTab(e){this.selectedTab="all"===e?"replies-feed":"chapters"===e?"chapters-feed":"comments-feed"}},watch:{formcomment(){this.formcomment=this.formcomment.substring(0,300),this.adjustTextareaHeight()}}};const On=(0,f.Z)(zn,[["render",ks],["__scopeId","data-v-e5235092"]]);var Zn=On;const Nn=e=>((0,a.dD)("data-v-470faf14"),e=e(),(0,a.Cn)(),e),Vn={key:1,class:"section_title"},Gn={key:2,class:"section_title"},Wn={class:"statsblock"},Rn={class:"topblock"},qn={class:"name-color"},Xn={class:"username"},Kn=["disabled"],$n={key:0,class:"d-flex align-items-center justify-content-center"},ea=Nn((()=>(0,a._)("span",{class:"material-symbols-outlined"},"person_add",-1))),ta=[ea],sa={key:1,class:"d-flex align-items-center justify-content-center"},oa=Nn((()=>(0,a._)("span",{class:"material-symbols-outlined"},"remove",-1))),na=[oa],aa={class:"stats-container"},ia={class:"stats user-select-none"},ra=Nn((()=>(0,a._)("span",{class:"material-symbols-outlined colored-icon"},"nest_eco_leaf",-1))),la=Nn((()=>(0,a._)("div",{class:"separator-stat"},null,-1))),ca={class:"count-block__num"},ua=Nn((()=>(0,a._)("span",{class:"material-symbols-outlined"},"import_contacts",-1))),da=Nn((()=>(0,a._)("div",{class:"separator-stat"},null,-1))),ma={class:"count-block__num"},ga=Nn((()=>(0,a._)("span",{class:"material-symbols-outlined"},"group",-1))),pa=Nn((()=>(0,a._)("div",{class:"separator-stat"},null,-1))),ha={class:"count-block__num"},Aa=Nn((()=>(0,a._)("span",{class:"material-symbols-outlined"},"group_add",-1))),_a=Nn((()=>(0,a._)("div",{class:"separator-stat"},null,-1))),va={class:"count-block__num"},wa={class:"stats-bio"},fa=Nn((()=>(0,a._)("div",{class:"bio-title"},[(0,a.Uk)("Bio"),(0,a._)("div",{class:"separator-stat"}),(0,a._)("span",{class:"material-symbols-outlined"},"history_edu")],-1))),Ca={class:"bio-content"},ya={key:0,class:"miscbuttons"},ba=Nn((()=>(0,a._)("span",{class:"material-symbols-outlined margin1"},"settings",-1))),ka=Nn((()=>(0,a._)("span",{class:"material-symbols-outlined margin1"},"logout",-1))),Ta={key:4,class:"profile-box centered"},Da={key:0,class:"loader-container"},xa=Nn((()=>(0,a._)("div",{class:"spinner-border text-light mb-3",style:{width:"5rem",height:"5rem"},role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")],-1))),Ia=Nn((()=>(0,a._)("span",{class:"loader-text"},"Spotting authors nearby...",-1))),Ba=[xa,Ia],Sa={key:5,class:"section_title"},Ma={key:6,class:"section_title"},Ea={key:7,class:"loader-container"},La=Nn((()=>(0,a._)("div",{class:"spinner-border text-light mb-3",style:{width:"5rem",height:"5rem"},role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")],-1))),Ua=Nn((()=>(0,a._)("span",{class:"loader-text"},"Fetching user stories...",-1))),Pa=[La,Ua],Fa={key:8},Qa={key:9};function ja(e,t,s,o,n,i){const r=(0,a.up)("login-message"),l=(0,a.up)("profile-picture"),c=(0,a.up)("small-tooltip"),u=(0,a.up)("settings-button"),d=(0,a.up)("logout-button"),m=(0,a.up)("post-container"),g=(0,a.up)("continuestoryfeed-container"),p=(0,a.up)("astronaut-message"),h=(0,a.up)("feed-container");return(0,a.wg)(),(0,a.j4)(h,{key:i.currentParameter},{default:(0,a.w5)((()=>[e.isLoggedIn?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(r,{key:0,text:"to follow other users"})),i.ownProfile()?((0,a.wg)(),(0,a.iD)("section",Vn," My profile ")):((0,a.wg)(),(0,a.iD)("section",Gn,(0,k.zw)(n.profileUsername)+"'s profile ",1)),n.userPicture?((0,a.wg)(),(0,a.iD)("section",{key:3,class:(0,k.C_)(i.profileBoxClass)},[n.userPicture?((0,a.wg)(),(0,a.j4)(l,{key:0,picture:n.userPicture},null,8,["picture"])):((0,a.wg)(),(0,a.j4)(l,{key:1,picture:"moon_default_avatar-min.png"},null,8,["picture"])),(0,a._)("div",Wn,[(0,a._)("div",Rn,[(0,a._)("div",qn,[(0,a._)("div",Xn,"@"+(0,k.zw)(n.profileUsername),1)]),!i.ownProfile()&&e.isLoggedIn?((0,a.wg)(),(0,a.iD)("button",{key:0,class:(0,k.C_)(["followbutton",{following:n.isFollowing,disabled:n.isFollowButtonDisabled}]),onClick:t[0]||(t[0]=(...e)=>i.followAction&&i.followAction(...e)),disabled:n.isFollowButtonDisabled},[n.isFollowing?((0,a.wg)(),(0,a.iD)("div",sa,na)):((0,a.wg)(),(0,a.iD)("div",$n,ta))],10,Kn)):(0,a.kq)("",!0)]),(0,a._)("div",aa,[(0,a._)("div",ia,[(0,a._)("div",{class:"count-block",onMouseover:t[1]||(t[1]=e=>n.showLeavesTooltip=!0),onMouseout:t[2]||(t[2]=e=>n.showLeavesTooltip=!1)},[ra,la,(0,a._)("div",ca,(0,k.zw)(n.nLeaves),1),(0,a.Wm)(c,{condition:n.showLeavesTooltip,text:"Leaves",top:"45px"},null,8,["condition"])],32),(0,a._)("div",{class:"count-block",onMouseover:t[3]||(t[3]=e=>n.showStoriesTooltip=!0),onMouseout:t[4]||(t[4]=e=>n.showStoriesTooltip=!1)},[ua,da,(0,a._)("div",ma,(0,k.zw)(n.nStories),1),(0,a.Wm)(c,{condition:n.showStoriesTooltip,text:"Stories",top:"45px"},null,8,["condition"])],32),(0,a._)("div",{class:"count-block",onMouseover:t[5]||(t[5]=e=>n.showFollowersTooltip=!0),onMouseout:t[6]||(t[6]=e=>n.showFollowersTooltip=!1)},[ga,pa,(0,a._)("div",ha,(0,k.zw)(n.userFollowers.length),1),(0,a.Wm)(c,{condition:n.showFollowersTooltip,text:"Followers",top:"45px"},null,8,["condition"])],32),(0,a._)("div",{class:"count-block",onMouseover:t[7]||(t[7]=e=>n.showFollowingTooltip=!0),onMouseout:t[8]||(t[8]=e=>n.showFollowingTooltip=!1)},[Aa,_a,(0,a._)("div",va,(0,k.zw)(n.userFollowing.length),1),(0,a.Wm)(c,{condition:n.showFollowingTooltip,text:"Following",top:"45px"},null,8,["condition"])],32)])]),(0,a._)("div",wa,[fa,(0,a._)("div",Ca,(0,k.zw)(n.userBio),1)]),i.ownProfile()&&e.isLoggedIn?((0,a.wg)(),(0,a.iD)("div",ya,[(0,a.Wm)(u,{text:"SETTINGS",onClick:i.goToSettings},{default:(0,a.w5)((()=>[ba])),_:1},8,["onClick"]),(0,a.Wm)(d,{text:"LOG OUT",onClick:t[9]||(t[9]=t=>e.logout())},{default:(0,a.w5)((()=>[ka])),_:1})])):(0,a.kq)("",!0)])],2)):((0,a.wg)(),(0,a.iD)("section",Ta,[n.loading?((0,a.wg)(),(0,a.iD)("div",Da,Ba)):(0,a.kq)("",!0)])),i.ownProfile()?((0,a.wg)(),(0,a.iD)("section",Sa," My posts ")):((0,a.wg)(),(0,a.iD)("section",Ma,(0,k.zw)(n.profileUsername)+"'s posts ",1)),n.loading?((0,a.wg)(),(0,a.iD)("div",Ea,Pa)):n.posts.length>0?((0,a.wg)(),(0,a.iD)("div",Fa,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.posts,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e._id.$oid},["prologue"===e.type?((0,a.wg)(),(0,a.j4)(m,{key:0,_id:e._id,title:e.title,content:e.content,username:e.username,postComment:e.comment,date:e.date,picture:e.picture,color:e.color,views:e.views,comments:e.user_comments,tags:e.tags,leaves:e.leaves,feedMode:!0},null,8,["_id","title","content","username","postComment","date","picture","color","views","comments","tags","leaves"])):((0,a.wg)(),(0,a.j4)(g,{key:1,_id:e._id,storyId:e.story_id,parentChapterId:e.parent_chapter_id,content:e.content,chapterName:e.chapter_name,chapterNum:e.chapter_num,username:e.username,color:e.color,storyTitle:e.story_title,postComment:e.comment,date:e.date,picture:e.picture,leaves:e.leaves,views:e.views,tags:e.tags},null,8,["_id","storyId","parentChapterId","content","chapterName","chapterNum","username","color","storyTitle","postComment","date","picture","leaves","views","tags"]))])))),128))])):((0,a.wg)(),(0,a.iD)("div",Qa,[(0,a.Wm)(p,{onomatopoeia:"crick crick",text:"Countless tales have been told since the beginning of time, yet none have borne their signature. What might they be doing?"},null,8,["text"])]))])),_:1})}const Ha={class:"imageblock"},Ja=["src"];function Ya(e,t,s,o,n,i){return(0,a.wg)(),(0,a.iD)("div",Ha,[(0,a._)("img",{class:"postimage",src:i.imgSource,alt:"profilepic"},null,8,Ja)])}var za={props:["picture"],computed:{imgSource(){return s(5459)("./"+this.picture)}}};const Oa=(0,f.Z)(za,[["render",Ya],["__scopeId","data-v-74dc1d85"]]);var Za=Oa;const Na=e=>((0,a.dD)("data-v-259d7e1c"),e=e(),(0,a.Cn)(),e),Va=["disabled"],Ga=Na((()=>(0,a._)("div",{class:"spinner-border spinner-border-sm",role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")],-1))),Wa=[Ga];function Ra(e,t,s,o,n,i){return s.buttonLoading?((0,a.wg)(),(0,a.iD)("button",{key:1,class:(0,k.C_)(["button d-flex align-items-center",{disabled:s.buttonLoading,"custom-margin":s.margin}]),disabled:s.buttonLoading,type:"submit"},Wa,10,Va)):((0,a.wg)(),(0,a.iD)("button",{key:0,class:(0,k.C_)(["button d-flex align-items-center",{"custom-margin":s.margin}]),type:"submit"},[(0,a.WI)(e.$slots,"default",{},void 0,!0),(0,a.Uk)(" "+(0,k.zw)(s.text),1)],2))}var qa={props:["buttonLoading","color","text","margin","buttonType"]};const Xa=(0,f.Z)(qa,[["render",Ra],["__scopeId","data-v-259d7e1c"]]);var Ka=Xa;const $a=e=>((0,a.dD)("data-v-33966cbd"),e=e(),(0,a.Cn)(),e),ei=["disabled"],ti=$a((()=>(0,a._)("div",{class:"spinner-border spinner-border-sm",role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")],-1))),si=[ti];function oi(e,t,s,o,n,i){return s.buttonLoading?((0,a.wg)(),(0,a.iD)("button",{key:1,class:(0,k.C_)(["button d-flex align-items-center",{disabled:s.buttonLoading,"custom-margin":s.margin}]),disabled:s.buttonLoading,type:"submit"},si,10,ei)):((0,a.wg)(),(0,a.iD)("button",{key:0,class:(0,k.C_)(["button d-flex align-items-center",{"custom-margin":s.margin}]),type:"submit"},[(0,a.WI)(e.$slots,"default",{},void 0,!0),(0,a.Uk)(" "+(0,k.zw)(s.text),1)],2))}var ni={props:["buttonLoading","color","text","margin","buttonType"]};const ai=(0,f.Z)(ni,[["render",oi],["__scopeId","data-v-33966cbd"]]);var ii=ai,ri={components:{FeedContainer:b,PostContainer:_e,ProfilePicture:Za,ContinuestoryfeedContainer:We,AstronautMessage:yt,SettingsButton:Ka,LogoutButton:ii,SmallTooltip:po,LoginMessage:Ho},setup(){const e=(0,n.tv)();return{router:e}},data(){return{posts:[],bio:null,profileUsername:null,loading:!0,userPicture:"",userColor:"",userBio:"",nStories:0,nLeaves:0,userFollowers:0,userFollowing:0,isFollowing:null,isFollowButtonDisabled:!1,showLeavesTooltip:!1,showStoriesTooltip:!1,showFollowersTooltip:!1,showFollowingTooltip:!1}},computed:{...(0,h.Se)("auth",["isLoggedIn","currentUser","userFetchedPicture","colorFetched","userFetchedBio","nFetchedPosts","nFetchedFollowers","nFetchedFollowing","nFetchedLeaves"]),currentParameter(){return this.$route.params.id},imgSource(){return s(5459)("./"+this.userColor)},profileBoxClass(){return`profile-box ${this.userColor}`}},mounted(){this.fetchDataComponent()},watch:{currentParameter(){this.profileUsername=this.$route.params.id}},methods:{...(0,h.nv)("auth",["logout"]),ownProfile(){return this.profileUsername===this.currentUser},followAction(){this.isFollowButtonDisabled=!0;const e={action:this.isFollowing?"unfollow":"follow",user_being_followed:this.profileUsername,user_follows:this.currentUser};A.Z.post(`${_}/follow`,e).then((e=>{const t=e.data;if("Success"==t&&(this.isFollowing=!this.isFollowing),this.isFollowButtonDisabled=!1,this.isFollowing)this.userFollowers.push(this.currentUser);else{const e=this.userFollowers.indexOf(this.currentUser);-1!==e&&this.userFollowers.splice(e,1)}})).catch((e=>{console.log(e),this.isFollowButtonDisabled=!1}))},goToSettings(){this.$router.push("/settings")},fetchDataComponent(){this.profileUsername=this.$route.params.id,this.ownProfile()?(this.userPicture=this.userFetchedPicture,this.userColor=this.colorFetched,this.userBio=this.userFetchedBio,this.nStories=this.nFetchedPosts,this.userFollowers=this.nFetchedFollowers,this.userFollowing=this.nFetchedFollowing,this.nLeaves=this.nFetchedLeaves,A.Z.get(`${_}/posts/${this.profileUsername}`).then((e=>{const t=e.data;console.log(t),this.posts=t,this.loading=!1})).catch((e=>{console.log(e)}))):A.Z.get(`${_}/user/${this.profileUsername}`).then((e=>{const t=e.data;this.posts=t.posts;const s=t.user_data;this.userPicture=s.picture,this.userColor=s.color,this.userBio=s.bio,this.nStories=s.started_stories+s.continued_stories,this.userFollowers=s.followers,this.userFollowing=s.following,this.nLeaves=s.leaves,this.loading=!1,this.isLoggedIn&&(s.followers.includes(this.currentUser)?this.isFollowing=!0:this.isFollowing=!1)})).catch((e=>{console.log(e)}))}}};const li=(0,f.Z)(ri,[["render",ja],["__scopeId","data-v-470faf14"]]);var ci=li;const ui=e=>((0,a.dD)("data-v-4a8d598e"),e=e(),(0,a.Cn)(),e),di=ui((()=>(0,a._)("section",{class:"section_title"}," Start new story ",-1))),mi={key:0,class:"pollancre"},gi={class:"newstory_comment"},pi={class:"image_box"},hi=["src"],Ai={class:"extended-container"},_i={class:"story__user-name3"},vi={class:"newstory_title"},wi={class:"newstory_title"},fi={class:"tag-section"},Ci={class:"tag-list"},yi={class:"buttonbox"},bi=ui((()=>(0,a._)("span",{class:"material-symbols-outlined"},"outgoing_mail",-1))),ki={key:1,class:"loader-container"},Ti=ui((()=>(0,a._)("div",{class:"spinner-border spinner-border-sm",style:{width:"5rem",height:"5rem"},role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")],-1))),Di=ui((()=>(0,a._)("span",{class:"loader-text"},"Planting story seed...",-1))),xi=[Ti,Di];function Ii(e,t,s,n,i,r){const l=(0,a.up)("tags-message"),c=(0,a.up)("post-tag"),u=(0,a.up)("submit-button"),d=(0,a.up)("feed-container");return(0,a.wg)(),(0,a.j4)(d,null,{default:(0,a.w5)((()=>[di,i.loading?((0,a.wg)(),(0,a.iD)("div",ki,xi)):((0,a.wg)(),(0,a.iD)("div",mi,[(0,a._)("form",{onSubmit:t[3]||(t[3]=(0,o.iM)(((...e)=>r.submitForm&&r.submitForm(...e)),["prevent"]))},[(0,a._)("div",gi,[(0,a._)("div",pi,[e.userFetchedPicture?((0,a.wg)(),(0,a.iD)("img",{key:0,class:"postimage",src:r.imgSource,alt:"profilepic"},null,8,hi)):(0,a.kq)("",!0)]),(0,a._)("div",Ai,[(0,a.wy)((0,a._)("textarea",{id:"comment","onUpdate:modelValue":t[0]||(t[0]=e=>i.formcomment=e),placeholder:"Author comment",rows:"1",style:(0,k.j5)({height:i.textareaHeight}),required:""},null,4),[[o.nr,i.formcomment]]),(0,a._)("span",_i,[(0,a._)("b",null,"@"+(0,k.zw)(e.currentUser),1),(0,a.Uk)(" Â· Now")])])]),(0,a._)("div",vi,[(0,a.wy)((0,a._)("input",{id:"title","onUpdate:modelValue":t[1]||(t[1]=e=>i.formtitle=e),type:"text",placeholder:"Story title",required:""},null,512),[[o.nr,i.formtitle]])]),(0,a._)("div",wi,[(0,a.wy)((0,a._)("textarea",{id:"body","onUpdate:modelValue":t[2]||(t[2]=e=>i.formbody=e),placeholder:"Prologue content",required:""},null,512),[[o.nr,i.formbody]])]),(0,a._)("div",fi,[(0,a.Wm)(l),(0,a._)("div",Ci,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.availableTags,(e=>((0,a.wg)(),(0,a.j4)(c,{key:e,clickable:i.isClickable,reachedMax:i.reachedMax,tag:e,onSelected:r.onSelected},null,8,["clickable","reachedMax","tag","onSelected"])))),128))])]),(0,a._)("div",yi,[(0,a.Wm)(u,{text:"SUBMIT",margin:!0,buttonLoading:i.buttonLoading},{default:(0,a.w5)((()=>[bi])),_:1},8,["buttonLoading"])])],32)]))])),_:1})}const Bi=e=>((0,a.dD)("data-v-733ce0ca"),e=e(),(0,a.Cn)(),e),Si={class:"boxy",role:"alert"},Mi=Bi((()=>(0,a._)("strong",null,"Tags ",-1))),Ei=Bi((()=>(0,a._)("span",{class:"text"},"Select suitable tags to show on your story",-1))),Li=[Mi,Ei];function Ui(e,t){return(0,a.wg)(),(0,a.iD)("div",Si,Li)}const Pi={},Fi=(0,f.Z)(Pi,[["render",Ui],["__scopeId","data-v-733ce0ca"]]);var Qi=Fi,ji={name:"NewPost",components:{FeedContainer:b,PostTag:pe,SubmitButton:io,TagsMessage:Qi},data(){return{formtitle:"",formcomment:"",formbody:"",textareaHeight:0,textareaHeight1:0,loading:!1,buttonLoading:!1,isPostButtonDisabled:!1,availableTags:["sci-fi","mystery","chill","short","long","medieval","jungle","horror","historical","fantasy","world-building","romance","thriller","young-adults","humor","self-help","action","suspense","fairy","pirate","space","science","contemporary","spirituality","politics","paranormal","crime","speculation","literature","travel","development","adventure","classic","detective","memoir"],selectedTags:[],isClickable:!0,reachedMax:!1}},methods:{onSelected(e,t){t?this.selectedTags.push(e):this.selectedTags.splice(this.selectedTags.indexOf(e),1)},load(){this.buttonLoading=!0,setTimeout((()=>{this.buttonLoading=!1}),3e3)},submitForm(){const e={comment:this.formcomment,title:this.formtitle,body:this.formbody,username:this.currentUser,tags:this.selectedTags};this.buttonLoading=!0,A.Z.post(`${_}/new_post`,e).then((e=>{this.buttonLoading=!1;const t=e.data;"Success"===t.status&&Xl.push("/home")})).catch((e=>{console.log(e),this.loading=!1}))},adjustTextareaHeight(){const e=this.$el.querySelector("#comment");e.style.height="auto",e.style.height=e.scrollHeight+"px",this.textareaHeight=e.style.height},adjustTextareaHeight1(){const e=this.$el.querySelector("#body");e.style.height="auto",e.style.height=e.scrollHeight+"px",this.textareaHeight1=e.style.height}},watch:{formcomment(){this.formcomment=this.formcomment.substring(0,300),this.adjustTextareaHeight()},formbody(){this.formbody=this.formbody.substring(0,8001),this.adjustTextareaHeight1()},formtitle(){this.formtitle=this.formtitle.substring(0,66)}},mounted(){this.adjustTextareaHeight()},computed:{...(0,h.Se)("auth",["currentUser","userFetchedPicture","colorFetched","userFetchedBio","nFetchedPosts","nFetchedFollowers","nFetchedFollowing"]),imgSource(){return s(5459)("./"+this.userFetchedPicture)},postButtonText(){return this.isPostButtonDisabled?"Submitted":"Submit?"}}};const Hi=(0,f.Z)(ji,[["render",Ii],["__scopeId","data-v-4a8d598e"]]);var Ji=Hi;const Yi=e=>((0,a.dD)("data-v-16f4909a"),e=e(),(0,a.Cn)(),e),zi={class:"imagecontainer"},Oi=Yi((()=>(0,a._)("div",{class:"onomatopoeia"},"404",-1))),Zi=Yi((()=>(0,a._)("img",{class:"astronaut-image",src:rt,alt:"astronaut floating"},null,-1))),Ni=Yi((()=>(0,a._)("div",{class:"loader-text"},"There are up to 400 billion stars in our galaxy. Perhaps there is an inhabitable planet out there where this URL exists. Who knows?",-1))),Vi=[Oi,Zi,Ni];function Gi(e,t,s,o,n,i){return(0,a.wg)(),(0,a.iD)("div",zi,Vi)}var Wi={data(){return{}}};const Ri=(0,f.Z)(Wi,[["render",Gi],["__scopeId","data-v-16f4909a"]]);var qi=Ri;const Xi=e=>((0,a.dD)("data-v-575f6264"),e=e(),(0,a.Cn)(),e),Ki=Xi((()=>(0,a._)("section",{class:"section_title"}," User settings ",-1))),$i={class:"setting"},er=Xi((()=>(0,a._)("span",{class:"description"},"Choose a new profile picture",-1))),tr={class:"setting"},sr=Xi((()=>(0,a._)("span",{class:"description"},"Choose a color scheme for your profile",-1))),or={class:"setting"},nr=Xi((()=>(0,a._)("span",{class:"description"},"Change your profile's bio",-1))),ar={class:"save-setting nomargin"},ir=["disabled"],rr=Xi((()=>(0,a._)("section",{class:"section_title"},null,-1)));function lr(e,t,s,o,n,i){const r=(0,a.up)("feed-container");return(0,a.wg)(),(0,a.j4)(r,null,{default:(0,a.w5)((()=>[Ki,(0,a._)("div",$i,[er,(0,a._)("button",{class:(0,k.C_)(["access-button",{active:"PictureSetting"===n.selectedSetting}]),onClick:t[0]||(t[0]=e=>n.selectedSetting="PictureSetting")},"Change picture",2)]),(0,a._)("div",tr,[sr,(0,a._)("button",{class:(0,k.C_)(["access-button",{active:"ColorSetting"===n.selectedSetting}]),onClick:t[1]||(t[1]=e=>n.selectedSetting="ColorSetting")},"Choose color",2)]),(0,a._)("div",or,[nr,(0,a._)("button",{class:(0,k.C_)(["access-button",{active:"BioSetting"===n.selectedSetting}]),onClick:t[2]||(t[2]=e=>n.selectedSetting="BioSetting")},"Edit bio",2)]),(0,a._)("div",ar,[(0,a._)("button",{class:(0,k.C_)({"save-button":!0,disabled:n.isSaveButtonDisabled}),disabled:n.isSaveButtonDisabled,onClick:t[3]||(t[3]=(...e)=>i.saveChanges&&i.saveChanges(...e))},(0,k.zw)(i.saveButtonText),11,ir)]),rr,e.userFetchedPicture?((0,a.wg)(),(0,a.j4)((0,a.LL)(n.selectedSetting),{key:0,previousImage:n.selectedImage,previousColor:n.selectedColor,previousBio:n.selectedBio,onImageSelected:i.handleImageSelected,onColorSelected:i.handleColorSelected,onBioSelected:i.handleBioSelected},null,40,["previousImage","previousColor","previousBio","onImageSelected","onColorSelected","onBioSelected"])):(0,a.kq)("",!0)])),_:1})}const cr=e=>((0,a.dD)("data-v-585f30d8"),e=e(),(0,a.Cn)(),e),ur={class:"grid-container"},dr=["onClick"],mr=["src"],gr=cr((()=>(0,a._)("div",{class:"selector"},null,-1)));function pr(e,t,s,o,n,i){return(0,a.wg)(),(0,a.iD)("div",ur,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.gridItems,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:(0,k.C_)(["grid-item",{selected:e.selected}]),onClick:e=>i.selectItem(t)},[(0,a._)("img",{src:e.image,alt:"Picture",class:"picture"},null,8,mr),gr],10,dr)))),128))])}var hr=s(9298),Ar=s(4441),_r=s(7359),vr=s(5572),wr=s(6757),fr=s(5080),Cr=s(6874),yr=s(19),br=s(1334),kr=s(6953),Tr=s(240),Dr=s(974),xr=s(4940),Ir=s(1188),Br=s(1033),Sr=s(8873),Mr={props:["previousImage"],data(){return{gridItems:[{image:hr,name:"astronaut_reading.jpeg",selected:!1},{image:vr,name:"astronaut_earth.jpeg",selected:!1},{image:wr,name:"astronaut_reads.jpeg",selected:!1},{image:Ar,name:"astronaut_reads_in_planet.jpeg",selected:!1},{image:_r,name:"astronaut_saloon.jpeg",selected:!1},{image:fr,name:"logo.png",selected:!1},{image:Cr,name:"bookpile.jpeg",selected:!1},{image:yr,name:"tree1.jpeg",selected:!1},{image:br,name:"tree2.jpeg",selected:!1},{image:kr,name:"default_blue.png",selected:!1},{image:Tr,name:"default_pink.png",selected:!1},{image:Dr,name:"default_orange.png",selected:!1},{image:xr,name:"default_red.png",selected:!1},{image:Ir,name:"default_grey.png",selected:!1},{image:Br,name:"default_purple.png",selected:!1},{image:Sr,name:"default_skyblue.png",selected:!1}]}},mounted(){const e=this.gridItems.findIndex((e=>e.name===this.previousImage));this.selectItem(e)},methods:{selectItem(e){this.gridItems.forEach((e=>{e.selected=!1})),this.gridItems[e].selected=!0,this.$emit("image-selected",this.gridItems[e].name)}}};const Er=(0,f.Z)(Mr,[["render",pr],["__scopeId","data-v-585f30d8"]]);var Lr=Er;const Ur={class:"grid-container2"},Pr=["onClick"],Fr=(0,a._)("div",{class:"selector"},null,-1);function Qr(e,t,s,o,n,i){return(0,a.wg)(),(0,a.iD)("div",Ur,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.gridItems2,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:(0,k.C_)(["grid-item2",{selected:e.selected}]),onClick:e=>i.selectItem(t)},[(0,a._)("div",{class:"color",style:(0,k.j5)({backgroundColor:e.color_code})},null,4),Fr],10,Pr)))),128))])}var jr={props:["previousColor"],data(){return{gridItems2:[{color_code:"rgb(255, 109, 93)",color:"salmon",selected:!1},{color_code:"rgb(255, 25, 0)",color:"red",selected:!1},{color_code:"rgb(0, 153, 255)",color:"blue",selected:!1},{color_code:"rgb(55, 182, 97)",color:"green",selected:!1},{color_code:"rgb(255, 217, 0)",color:"yellow",selected:!1},{color_code:"rgb(255, 255, 255)",color:"white",selected:!1},{color_code:"rgb(183, 0, 255)",color:"purple",selected:!1},{color_code:"rgb(255, 0, 179)",color:"pink",selected:!1},{color_code:"rgb(255, 145, 0)",color:"orange",selected:!1}]}},mounted(){this.post={_id:"test",title:"This is an example title!",content:"This shows how amazing your incredible story will look! Let us begin writing! Oh, and here is extra filler to make it look bigger, since a story is much longer than that hahaha, but never mind this!",username:"your username",postComment:"Looks awesome! Good color choice!",date:"Now",picture:"astronaut_reading.jpeg",color:"red"};const e=this.gridItems2.findIndex((e=>e.color===this.previousColor));this.selectItem(e)},methods:{selectItem(e){this.gridItems2.forEach((e=>{e.selected=!1})),this.gridItems2[e].selected=!0,this.$emit("color-selected",this.gridItems2[e].color)}}};const Hr=(0,f.Z)(jr,[["render",Qr]]);var Jr=Hr;const Yr={class:"stats-bio"};function zr(e,t,s,n,i,r){return(0,a.wg)(),(0,a.iD)("div",Yr,[(0,a.Uk)(" Bio "),(0,a.wy)((0,a._)("textarea",{class:"custom-textarea","onUpdate:modelValue":t[0]||(t[0]=e=>i.textareaContent=e),onInput:t[1]||(t[1]=(...e)=>r.handleTextareaInput&&r.handleTextareaInput(...e))},null,544),[[o.nr,i.textareaContent]])])}var Or={props:["previousBio"],data(){return{textareaContent:""}},mounted(){this.textareaContent=this.previousBio},methods:{adjustTextareaHeight(){const e=this.$el.querySelector(".custom-textarea");e.style.height="auto",e.style.height=e.scrollHeight+"px",this.textareaHeight=e.style.height},handleTextareaInput(){this.adjustTextareaHeight(),this.$emit("bio-selected",this.textareaContent)}},watch:{textareaContent(){this.textareaContent=this.textareaContent.substring(0,200),this.adjustTextareaHeight()}}};const Zr=(0,f.Z)(Or,[["render",zr],["__scopeId","data-v-90eb2e98"]]);var Nr=Zr,Vr={namespaced:!0,state:{loggedIn:!1,user:null,userData:null},actions:{async login({commit:e},t){try{const s=await v.post(`${_}/login`,t),o=s.data;if("Success"==o.status){e("SET_LOGGED_IN",!0),e("SET_USER",o.user_data.username);const t=o.token,s=o.user_data;return sessionStorage.setItem("username",s.username),sessionStorage.setItem("jwtToken",t),e("SET_USER_DATA",s),v.defaults.headers.common.Authorization=`Bearer ${t}`,Xl.push("/home"),o}}catch(s){console.error("Login failed:",s)}},async signup({commit:e},t){try{const s=await v.post(`${_}/signup`,t),o=s.data;if("Success"==o.status)return e("SET_LOGGED_IN",!1),o}catch(s){console.error("Login failed:",s)}},logout({commit:e}){e("SET_LOGGED_IN",!1),e("SET_USER",null),e("SET_USER_DATA",null),sessionStorage.clear(),Xl.push("/")}},mutations:{SET_LOGGED_IN(e,t){e.loggedIn=t},SET_USER(e,t){e.user=t},SET_USER_DATA(e,t){e.userData=t}},getters:{isLoggedIn:e=>e.loggedIn,currentUser:e=>e.user,userFetchedPicture:e=>e.userData?e.userData.picture:null,userFetchedBio:e=>e.userData?e.userData.bio:null,colorFetched:e=>e.userData?e.userData.color:null,nFetchedPosts:e=>e.userData?e.userData.started_stories+e.userData.continued_stories:0,nFetchedFollowers:e=>e.userData?e.userData.followers:[],nFetchedFollowing:e=>e.userData?e.userData.following:[],nFetchedLeaves:e=>e.userData?e.userData.leaves:0}},Gr={namespaced:!0,state:{loginError:!1},mutations:{SET_LOGIN_ERROR(e){e.loginError=!0},RESET_LOGIN_ERROR(e){e.loginError=!1}},actions:{setLoginError({commit:e}){this.loginError||(e("SET_LOGIN_ERROR"),setTimeout((()=>{e("RESET_LOGIN_ERROR")}),2500))}},getters:{loginError(e){return e.loginError}}},Wr=(0,h.MT)({state:{},getters:{},mutations:{},actions:{},modules:{auth:Vr,message:Gr}}),Rr={data(){return{selectedSetting:null,isSaveButtonDisabled:!0,selectedImage:null,selectedColor:null,selectedBio:null}},setup(){const e=(0,n.tv)();return{router:e}},components:{FeedContainer:b,PictureSetting:Lr,ColorSetting:Jr,BioSetting:Nr},mounted(){!1===this.isLoggedIn&&this.router.push("/home"),A.Z.get(`${_}/settings/${this.currentUser}`,{timeout:7e3}).then((e=>{const t=e.data;this.selectedImage=t.picture,this.selectedColor=t.color,this.selectedBio=t.bio})).catch((e=>{A.Z.isCancel(e)&&console.error("Request timed out:",e)}))},computed:{...(0,h.Se)("auth",["isLoggedIn","currentUser","userFetchedPicture","colorFetched","userFetchedBio","nFetchedPosts","nFetchedFollowers","nFetchedFollowing"]),saveButtonText(){return this.isSaveButtonDisabled?"Saved!":"Save changes"}},methods:{handleImageSelected(e){this.selectedImage!==e&&(this.selectedImage=e,this.isSaveButtonDisabled=!1)},handleColorSelected(e){this.selectedColor!==e&&(this.selectedColor=e,this.isSaveButtonDisabled=!1)},handleBioSelected(e){this.selectedBio!==e&&(this.selectedBio=e,this.isSaveButtonDisabled=!1)},saveChanges(){A.Z.post(`${_}/update_settings`,{username:this.currentUser,selectedImage:this.selectedImage,selectedColor:this.selectedColor,selectedBio:this.selectedBio}).then((e=>{this.loading=!1;const t=e.data;"Success"===t.status&&(this.isSaveButtonDisabled=!0,Wr.commit("auth/SET_USER_DATA",t.updated_user_data))})).catch((e=>{console.log(e),this.loading=!1}))}}};const qr=(0,f.Z)(Rr,[["render",lr],["__scopeId","data-v-575f6264"]]);var Xr=qr;const Kr=e=>((0,a.dD)("data-v-2c4e2634"),e=e(),(0,a.Cn)(),e),$r={class:"story-container"},el={class:"main-title-container"},tl={class:"main-title"},sl={class:"tag-section"},ol={class:"story-stats user-select-none"},nl=Kr((()=>(0,a._)("span",{class:"material-symbols-outlined margin1"},"bar_chart",-1))),al=Kr((()=>(0,a._)("span",{class:"material-symbols-outlined margin1"},"call_split",-1))),il=Kr((()=>(0,a._)("span",{class:"material-symbols-outlined margin1"},"chat",-1))),rl={key:0},ll={class:"add-story d-flex align-items-center"},cl=Kr((()=>(0,a._)("span",{class:"material-symbols-outlined margin-arrow"},"arrow_forward",-1))),ul=Kr((()=>(0,a._)("span",{class:"highlight1"},"CHAPTER",-1))),dl={class:"highlight1 m-1"},ml={key:1,class:"add-comment-box"},gl={class:"newstory_comment"},pl={class:"image_box"},hl=["src"],Al={class:"buttonbox"},_l=Kr((()=>(0,a._)("span",{class:"material-symbols-outlined"},"chat_bubble",-1))),vl=Kr((()=>(0,a._)("div",{class:"loader-container"},[(0,a._)("div",{class:"spinner-border text-light mb-3",style:{width:"5rem",height:"5rem"},role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")]),(0,a._)("span",{class:"loader-text"},"Adding chapters to main story...")],-1)));function wl(e,t,s,n,i,r){const l=(0,a.up)("info-message"),c=(0,a.up)("post-tag"),u=(0,a.up)("small-tooltip"),d=(0,a.up)("chapteredprologue-container"),m=(0,a.up)("chaptered-container"),g=(0,a.up)("writechapter-container"),p=(0,a.up)("login-message"),h=(0,a.up)("comment-button"),A=(0,a.up)("buttonblock-selector"),_=(0,a.up)("feed-container");return i.loading?((0,a.wg)(),(0,a.j4)(_,{key:1},{default:(0,a.w5)((()=>[vl])),_:1})):((0,a.wg)(),(0,a.j4)(_,{key:0},{default:(0,a.w5)((()=>[(0,a.Wm)(l),(0,a._)("div",$r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.chapterList,(s=>((0,a.wg)(),(0,a.iD)("div",{key:s._id},["prologue"===s.type?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a._)("div",el,[(0,a._)("h2",tl,(0,k.zw)(s.title.toUpperCase()),1)]),(0,a._)("div",sl,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.tags,(e=>((0,a.wg)(),(0,a.j4)(c,{key:e,clickable:!1,tag:e},null,8,["tag"])))),128))]),(0,a._)("div",ol,[(0,a._)("div",{class:(0,k.C_)(["story-stats-section",[i.postData.leaves.includes(e.currentUser)?"includes-leaf-icon":""]]),onMouseover:t[0]||(t[0]=e=>i.showLeavesTooltip=!0),onMouseout:t[1]||(t[1]=e=>i.showLeavesTooltip=!1)},[(0,a._)("span",{class:(0,k.C_)(["material-symbols-outlined margin1 leaf-icon",[i.postData.leaves.includes(e.currentUser)?"includes-leaf-icon":""]])},"nest_eco_leaf",2),(0,a._)("span",null,(0,k.zw)(i.totalLeaves),1),(0,a.Wm)(u,{condition:i.showLeavesTooltip,text:"Storyline leaves",top:"35px"},null,8,["condition"])],34),(0,a._)("div",{class:"story-stats-section",onMouseover:t[2]||(t[2]=e=>i.showViewsTooltip=!0),onMouseout:t[3]||(t[3]=e=>i.showViewsTooltip=!1)},[nl,(0,a._)("span",null,(0,k.zw)(i.highestViews),1),(0,a.Wm)(u,{condition:i.showViewsTooltip,text:"Highest views",top:"35px"},null,8,["condition"])],32),(0,a._)("div",{class:"story-stats-section",onMouseover:t[4]||(t[4]=e=>i.showChaptersTooltip=!0),onMouseout:t[5]||(t[5]=e=>i.showChaptersTooltip=!1)},[al,(0,a._)("span",null,(0,k.zw)(i.chapterList[i.chapterList.length-1].chapter_num),1),(0,a.Wm)(u,{condition:i.showChaptersTooltip,text:"Mounted chapters",top:"35px"},null,8,["condition"])],32),(0,a._)("div",{class:"story-stats-section",onMouseover:t[6]||(t[6]=e=>i.showCommentsTooltip=!0),onMouseout:t[7]||(t[7]=e=>i.showCommentsTooltip=!1)},[il,(0,a._)("span",null,(0,k.zw)(i.postData.user_comments.length),1),(0,a.Wm)(u,{condition:i.showCommentsTooltip,text:"Comments",top:"35px"},null,8,["condition"])],32)]),(0,a.Wm)(d,{_id:s._id,content:s.content,title:s.title,username:s.username,color:s.color,postComment:s.comment,date:s.date,picture:s.picture,feedMode:!1,class:"story__article1"},null,8,["_id","content","title","username","color","postComment","date","picture"])],64)):((0,a.wg)(),(0,a.j4)(m,{key:1,_id:s._id,storyId:s.story_id,parentChapterId:s.parent_chapter_id,content:s.content,chapterName:s.chapter_name,chapterNum:s.chapter_num,username:s.username,postComment:s.comment,date:s.date,picture:s.picture,class:"story__article2"},null,8,["_id","storyId","parentChapterId","content","chapterName","chapterNum","username","postComment","date","picture"]))])))),128)),e.isLoggedIn?((0,a.wg)(),(0,a.iD)("div",rl,[(0,a._)("div",{class:"add-story-container",onClick:t[8]||(t[8]=(...e)=>r.toggleContinueContainer&&r.toggleContinueContainer(...e))},[(0,a._)("h2",ll,[(0,a.Uk)("CONTINUE STORYLINE "),cl,(0,a.Uk)(),ul,(0,a._)("span",dl,(0,k.zw)(i.chapterList[i.chapterList.length-1].chapter_num+1),1)])]),i.showContinueContainer?((0,a.wg)(),(0,a.j4)(g,{key:0,chapterNum:i.chapterList[i.chapterList.length-1].chapter_num+1,username:e.currentUser,postId:i.chapterList[0]._id,postTitle:i.chapterList[0].title,parentChapterId:i.chapterList[i.chapterList.length-1]._id,tags:i.chapterList[0].tags},null,8,["chapterNum","username","postId","postTitle","parentChapterId","tags"])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)]),e.isLoggedIn?((0,a.wg)(),(0,a.iD)("div",ml,[(0,a._)("form",{onSubmit:t[10]||(t[10]=(0,o.iM)(((...e)=>r.submitComment&&r.submitComment(...e)),["prevent"]))},[(0,a._)("div",gl,[(0,a._)("div",pl,[(0,a._)("img",{class:"postimage",src:r.imgSource,alt:"profilepic"},null,8,hl)]),(0,a.wy)((0,a._)("textarea",{id:"comment","onUpdate:modelValue":t[9]||(t[9]=e=>i.formcomment=e),placeholder:"Add a comment...",rows:"1",style:(0,k.j5)({height:i.textareaHeight}),required:""},null,4),[[o.nr,i.formcomment]]),(0,a._)("div",Al,[(0,a.Wm)(h,{text:"COMMENT",margin:!0},{default:(0,a.w5)((()=>[_l])),_:1})])])],32)])):((0,a.wg)(),(0,a.j4)(p,{key:0,text:"to comment and continue storylines"})),(0,a.Wm)(A,{homePage:!1,onSelectedTab:r.handleSelectedTab},null,8,["onSelectedTab"]),(0,a.Wm)(o.uT,{name:"fade",mode:"out-in"},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.j4)((0,a.LL)(i.selectedTab),{loading:i.loading,replies:i.replies,chapterList:i.chapterList},null,8,["loading","replies","chapterList"]))])),_:1})])),_:1}))}const fl=e=>((0,a.dD)("data-v-30c0f322"),e=e(),(0,a.Cn)(),e),Cl={class:"story__user-container"},yl={class:"story__user-img-container"},bl=["src"],kl={class:"story__user-info-container"},Tl={class:"story__username cur-pnt"},Dl=fl((()=>(0,a._)("span",{class:"lower",style:{color:"whitesmoke"}},[(0,a._)("b",null,"@")],-1))),xl={class:"story__user-name"},Il={class:"story__username-date lower cur-def"},Bl={class:"story__article"},Sl={class:"story__upper"},Ml={class:"story__title"},El=fl((()=>(0,a._)("span",{class:"story_title highlight1"},"CHAPTER",-1))),Ll={class:"story_title highlight"},Ul={class:"story__content"};function Pl(e,t,s,n,i,r){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",{class:(0,k.C_)(r.outlineClass)},[(0,a._)("span",{onClick:t[2]||(t[2]=(...e)=>r.navigateToPost&&r.navigateToPost(...e)),style:{"text-decoration":"none"}},[(0,a._)("div",Cl,[(0,a._)("div",yl,[(0,a._)("span",{onClick:t[0]||(t[0]=(0,o.iM)(((...e)=>r.navigateToUser&&r.navigateToUser(...e)),["stop"])),style:{color:"inherit","text-decoration":"none"}},[s.picture?((0,a.wg)(),(0,a.iD)("img",{key:0,src:r.imgSource,alt:"pic",class:"story__user-img"},null,8,bl)):(0,a.kq)("",!0)])]),(0,a._)("div",kl,[(0,a._)("div",Tl,[(0,a._)("span",{onClick:t[1]||(t[1]=(0,o.iM)(((...e)=>r.navigateToUser&&r.navigateToUser(...e)),["stop"])),style:{color:"inherit","text-decoration":"none"}},[Dl,(0,a._)("b",xl,(0,k.zw)(s.username),1)]),(0,a._)("span",Il,"Â· "+(0,k.zw)(s.date),1)])])]),(0,a._)("article",Bl,[(0,a._)("div",Sl,[(0,a._)("h2",Ml,[El,(0,a._)("span",Ll,(0,k.zw)(s.chapterNum),1),(0,a.Uk)((0,k.zw)(s.chapterName.toUpperCase()),1)])]),(0,a._)("p",Ul,(0,k.zw)(r.formatStory(s.content)),1)])])],2)])}var Fl={setup(){const e=(0,n.tv)();return{router:e}},props:["_id","content","username","postComment","color","date","picture","chapterNum","storyId","parentChapterId","chapterName","tags","feedMode"],methods:{formatStory(e){const t=e.replace(/<br>/g,"\n");return t.length>700&&this.feedMode?t.substring(0,700)+"...":t},navigateToPost(){this.router.push("/chapter/"+this._id.$oid)},navigateToUser(){this.router.push("/user/"+this.username)}},computed:{imgSource(){return s(5459)("./"+this.picture)},outlineClass(){return`outline ${this.color}`},checkLength(){return this.content.length>=697}}};const Ql=(0,f.Z)(Fl,[["render",Pl],["__scopeId","data-v-30c0f322"]]);var jl=Ql,Hl={components:{FeedContainer:b,ChapteredContainer:jl,ChapteredprologueContainer:Js,CommentContainer:nn,ContinuestoryContainer:In,WritechapterContainer:co,AstronautMessage:yt,PostTag:pe,CommentButton:yo,SmallTooltip:po,InfoMessage:Mo,LoginMessage:Ho,RepliesFeed:Mn,ChaptersFeed:Fn,CommentsFeed:Yn,ButtonblockSelector:$t},data(){return{chapterList:null,formcomment:"",continuedStory:null,textareaHeight:null,loading:!0,replies:[],loadingComments:!0,showContinueContainer:!1,postData:{},totalLeaves:0,showLeavesTooltip:!1,showChaptersTooltip:!1,showCommentsTooltip:!1,showViewsTooltip:!1,highestViews:0,selectedTab:"replies-feed"}},mounted(){const e=this.$route.params.id;A.Z.get(`${_}/chapter/${e}`).then((e=>{this.chapterList=e.data,this.chapterList.forEach((e=>{e.views>this.highestViews&&(this.highestViews=e.views)})),this.postData=this.chapterList[0],this.totalLeaves+=this.postData.leaves.length,this.chapterList.forEach((e=>{this.totalLeaves+=e.leaves.length})),this.loading=!1,A.Z.get(`${_}/post/${this.postData._id.$oid}`).then((e=>{this.replies=e.data.replies,this.loadingComments=!1}))}))},computed:{...(0,h.Se)("auth",["isLoggedIn","currentUser","userFetchedPicture","colorFetched"]),imgSource(){return s(5459)("./"+this.userFetchedPicture)}},methods:{adjustTextareaHeight(){const e=this.$el.querySelector("#comment");e.style.height="auto",e.style.height=e.scrollHeight+"px",this.textareaHeight=e.style.height},toggleContinueContainer(){this.showContinueContainer=!this.showContinueContainer},submitComment(){const e={username:this.currentUser,comment:this.formcomment,parentId:this.chapterList[0]._id.$oid};A.Z.post(`${_}/new_comment`,e).then((e=>{const t=e.data;this.replies.unshift(t.comment_data),this.formcomment=""})).catch((e=>{console.log(e)}))},handleSelectedTab(e){this.selectedTab="all"===e?"replies-feed":"chapters"===e?"chapters-feed":"comments-feed"}},watch:{formcomment(){this.formcomment=this.formcomment.substring(0,300),this.adjustTextareaHeight()}}};const Jl=(0,f.Z)(Hl,[["render",wl],["__scopeId","data-v-2c4e2634"]]);var Yl=Jl;const zl=e=>((0,a.dD)("data-v-0bd5be48"),e=e(),(0,a.Cn)(),e),Ol={class:"block"},Zl={class:"rectangle"},Nl=zl((()=>(0,a._)("div",null,"Explore",-1)));function Vl(e,t,s,o,n,i){const r=(0,a.up)("astronaut-message"),l=(0,a.up)("select-button"),c=(0,a.up)("latest-feed");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r,{class:"astro",onomatopoeia:"",text:"In the depths of our galaxy lies a distant planet, where a mesmerizing forest thrivesâ a place where the ethereal story tree whispers secrets of cosmic wonders...",flipped:!1},null,8,["text"]),(0,a._)("div",Ol,[(0,a._)("div",Zl,[(0,a.Wm)(l,{onClick:t[0]||(t[0]=t=>e.setSelectedTab("latest-feed")),mode:"following-feed"===e.selectedTab?null:"flat",selected:!0},{default:(0,a.w5)((()=>[Nl])),_:1},8,["mode"])])]),(0,a.Wm)(c,{posts:n.posts,loading:n.loading},null,8,["posts","loading"])],64)}var Gl={components:{SelectButton:B,LatestFeed:Xe,AstronautMessage:yt},setup(){const e=(0,n.tv)();return{router:e}},data(){return{posts:{},openDialog:!0,userLogged:!1,text:" ",showCharacter:!0,loading:!0}},mounted(){this.isLoggedIn?this.router.push("/home"):A.Z.get(`${_}/posts`).then((e=>{this.posts=e.data,this.loading=!1})).catch((e=>{console.log(e)}))},computed:{...(0,h.Se)("auth",["isLoggedIn"])}};const Wl=(0,f.Z)(Gl,[["render",Vl],["__scopeId","data-v-0bd5be48"]]);var Rl=Wl;const ql=(0,n.p7)({history:(0,n.PO)(),routes:[{path:"/",component:Rl},{path:"/home",component:ss},{path:"/newpost",component:Ji},{path:"/user/:id",component:ci},{path:"/post/:id",component:Zn},{path:"/chapter/:id",component:Yl},{path:"/settings",component:Xr},{path:"/:catchAll(.*)",component:qi}]});var Xl=ql;const Kl=(0,a._)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"},null,-1),$l=(0,a._)("div",{class:"marg-bot"},null,-1);function ec(e,t,s,o,n,i){const r=(0,a.up)("the-header"),l=(0,a.up)("error-message"),c=(0,a.up)("router-view"),u=(0,a.up)("block-frame");return(0,a.wg)(),(0,a.iD)(a.HY,null,[Kl,(0,a.Wm)(r),(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(l,{message:"Log in to add a leaf to user posts"}),((0,a.wg)(),(0,a.j4)(c,{key:e.$route.params.id}))])),_:1}),$l],64)}const tc=e=>((0,a.dD)("data-v-3f57a945"),e=e(),(0,a.Cn)(),e),sc={class:"logo"},oc=tc((()=>(0,a._)("img",{class:"logoimg",src:br,alt:"treelogo"},null,-1))),nc={key:0,class:"login-div"},ac={key:1,class:"options"},ic=["src"],rc={key:1,class:"userimg",src:r,alt:"default avatar"},lc={class:"user-data-container"},cc={class:"name-container"},uc={class:"username"},dc={class:"leave-container"},mc={class:"leave-data"},gc=tc((()=>(0,a._)("span",{class:"material-symbols-outlined custom-i"},"nest_eco_leaf",-1))),pc={class:"leaves-num"};function hc(e,t,s,o,n,i){const r=(0,a.up)("signin-dialog"),l=(0,a.up)("signup-dialog"),c=(0,a.up)("router-link"),u=(0,a.up)("small-tooltip");return(0,a.wg)(),(0,a.iD)(a.HY,null,[!0===n.dialogShown&&"signin"===n.dialog?((0,a.wg)(),(0,a.j4)(r,{onClose:i.toggleDialog,onSignup:t[0]||(t[0]=e=>i.changeDialog("signup")),key:"signin"},null,8,["onClose"])):!0===n.dialogShown&&"signup"===n.dialog?((0,a.wg)(),(0,a.j4)(l,{onClose:i.toggleDialog,onSignin:t[1]||(t[1]=e=>i.changeDialog("signin")),key:"signup"},null,8,["onClose"])):(0,a.kq)("",!0),(0,a._)("header",null,[(0,a._)("nav",null,[(0,a._)("div",sc,[(0,a.Wm)(c,{class:"logoimgcontainer",to:"/"},{default:(0,a.w5)((()=>[oc])),_:1}),(0,a.Wm)(c,{to:"/",class:"header-title"},{default:(0,a.w5)((()=>[(0,a.Uk)("Storymous")])),_:1})]),!1===e.isLoggedIn?((0,a.wg)(),(0,a.iD)("div",nc,[(0,a._)("div",{class:"material-symbols-outlined user-select-none icon",onClick:t[2]||(t[2]=(...e)=>i.goHome&&i.goHome(...e))},"home"),(0,a._)("button",{class:"loginButton",onClick:t[3]||(t[3]=e=>{i.toggleDialog(),i.changeDialog("signin")})},"Log In")])):((0,a.wg)(),(0,a.iD)("div",ac,[(0,a._)("div",{class:"icon-container-t",onMouseover:t[5]||(t[5]=e=>n.showSoonTooltip=!0),onMouseout:t[6]||(t[6]=e=>n.showSoonTooltip=!1)},[(0,a._)("div",{class:"material-symbols-outlined user-select-none icon",onClick:t[4]||(t[4]=(...t)=>e.showNotifications&&e.showNotifications(...t))},"notifications"),(0,a.Wm)(u,{condition:n.showSoonTooltip,text:"Coming soon!",top:"35px",transform:"translateX(10%)"},null,8,["condition","transform"])],32),(0,a.Wm)(c,{to:i.getProfileLink,class:"userdata"},{default:(0,a.w5)((()=>[e.userFetchedPicture?((0,a.wg)(),(0,a.iD)("img",{key:0,class:"userimg",src:i.imgSource,alt:"astronaut"},null,8,ic)):((0,a.wg)(),(0,a.iD)("img",rc)),(0,a._)("div",lc,[(0,a._)("div",cc,[(0,a._)("div",uc,"@"+(0,k.zw)(e.currentUser),1)]),(0,a._)("div",dc,[(0,a._)("div",mc,[gc,(0,a._)("div",pc,(0,k.zw)(e.nFetchedLeaves),1)])])])])),_:1},8,["to"])]))])])],64)}const Ac=e=>((0,a.dD)("data-v-3f525f2e"),e=e(),(0,a.Cn)(),e),_c={open:""},vc=Ac((()=>(0,a._)("div",{class:"dialog-div"},[(0,a._)("b",null,"Log In")],-1))),wc={key:0,class:"alert alert-danger m-0 mt-3 p-2",role:"alert"},fc={class:"form--control"},Cc={class:"form--control"},yc=["disabled"],bc={key:0},kc={key:1},Tc=Ac((()=>(0,a._)("div",{class:"spinner-border spinner-border-sm",role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")],-1))),Dc=[Tc],xc={class:"signup-message"};function Ic(e,t,s,n,i,r){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",{class:"bg",onClick:t[0]||(t[0]=t=>e.$emit("close"))}),(0,a._)("dialog",_c,[vc,i.errorMessage?((0,a.wg)(),(0,a.iD)("div",wc," Invalid credentials! ")):(0,a.kq)("",!0),(0,a._)("form",{onSubmit:t[5]||(t[5]=(0,o.iM)(((...e)=>r.submitForm&&r.submitForm(...e)),["prevent"]))},[(0,a._)("div",fc,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.usernameValue=e),id:"title",name:"title",type:"text",ref:"titleInput",placeholder:"Username"},null,512),[[o.nr,i.usernameValue]])]),(0,a._)("div",Cc,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.passwordValue=e),id:"password",name:"password",type:"password",ref:"passwordInput",placeholder:"Password"},null,512),[[o.nr,i.passwordValue]])]),(0,a._)("div",null,[(0,a._)("button",{class:"button",disabled:!r.validateForm(),type:"submit",onClick:t[3]||(t[3]=(...t)=>e.scrollToTop&&e.scrollToTop(...t))},[i.loading?((0,a.wg)(),(0,a.iD)("span",kc,Dc)):((0,a.wg)(),(0,a.iD)("span",bc,"Log In"))],8,yc)]),(0,a._)("div",xc,[(0,a.Uk)("New to storymous? "),(0,a._)("a",{href:"",onClick:t[4]||(t[4]=(0,o.iM)((t=>e.$emit("signup")),["prevent"])),class:"link"},"Sign Up")])],32)])],64)}var Bc={emits:["close"],components:B,data(){return{formValid:!1,usernameValue:"",passwordValue:"",loading:!1,errorMessage:!1}},methods:{...(0,h.nv)("auth",["login"]),validateForm(){return this.loading?(this.formValid=!1,!1):this.usernameValue.length>=3&&this.passwordValue.length>=3?(this.formValid=!0,!0):(this.formValid=!1,!1)},submitForm(){if(this.validateForm(),this.formValid){const e={username:this.usernameValue,password:this.passwordValue};this.loading=!0,this.login(e).then((e=>{"Success"===e.status?this.$emit("close"):(this.loading=!1,this.errorMessage=!0)})).catch((e=>{this.errorMessage=!0,this.loading=!1,console.error("Login failed:",e)})),window.scrollTo({top:0,behavior:"auto"})}}},computed:{...(0,h.Se)("auth",["isLoggedIn","currentUser"]),usernameChange(){return this.usernameValue},passwordChange(){return this.passwordValue}}};const Sc=(0,f.Z)(Bc,[["render",Ic],["__scopeId","data-v-3f525f2e"]]);var Mc=Sc;const Ec=e=>((0,a.dD)("data-v-b0b7d10e"),e=e(),(0,a.Cn)(),e),Lc={open:""},Uc=Ec((()=>(0,a._)("div",{class:"dialog-div"},[(0,a._)("b",null,"Sign Up")],-1))),Pc={key:0,class:"error-message"},Fc={class:"form--control"},Qc=Ec((()=>(0,a._)("br",null,null,-1))),jc={class:"form--control"},Hc={class:"form--control"},Jc=Ec((()=>(0,a._)("br",null,null,-1))),Yc={class:"form--control"},zc=["disabled"],Oc={key:0},Zc={key:1},Nc=Ec((()=>(0,a._)("div",{class:"spinner-border spinner-border-sm",role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")],-1))),Vc=[Nc],Gc={class:"signup-message"};function Wc(e,t,s,n,i,r){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",{class:"bg",onClick:t[0]||(t[0]=t=>e.$emit("close"))}),(0,a._)("dialog",Lc,[Uc,i.errorMessage?((0,a.wg)(),(0,a.iD)("span",Pc,"User already exists")):(0,a.kq)("",!0),(0,a._)("form",{onSubmit:t[14]||(t[14]=(0,o.iM)(((...e)=>r.submitForm&&r.submitForm(...e)),["prevent"]))},[(0,a._)("div",Fc,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.usernameValue=e),class:(0,k.C_)(r.usernameClass),onFocus:t[2]||(t[2]=e=>i.usernameFocused=!0),onBlur:t[3]||(t[3]=e=>i.usernameFocused=!1),id:"username",name:"username",type:"text",ref:"usernameInput",placeholder:"Choose a username"},null,34),[[o.nr,i.usernameValue]]),i.usernameFocused?((0,a.wg)(),(0,a.iD)("span",{key:0,class:(0,k.C_)(["requirements",r.requirementsCharcount])},[(0,a.Uk)("Contains between 3-20 characters"),Qc],2)):(0,a.kq)("",!0),i.usernameFocused?((0,a.wg)(),(0,a.iD)("span",{key:1,class:(0,k.C_)(["requirements",r.requirementsSpecial])},"No special characters (_ allowed)",2)):(0,a.kq)("",!0)]),(0,a._)("div",jc,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>i.emailValue=e),class:(0,k.C_)(r.emailClass),onFocus:t[5]||(t[5]=e=>i.emailFocused=!0),onBlur:t[6]||(t[6]=e=>i.emailFocused=!1),id:"email",name:"email",type:"text",ref:"emailInput",placeholder:"Your e-mail"},null,34),[[o.nr,i.emailValue]]),i.emailFocused?((0,a.wg)(),(0,a.iD)("span",{key:0,class:(0,k.C_)(["requirements",r.requirementsValidEmail])},"Valid e-mail format",2)):(0,a.kq)("",!0)]),(0,a._)("div",Hc,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>i.passOneValue=e),class:(0,k.C_)(r.passOneClass),onFocus:t[8]||(t[8]=e=>i.passOneFocused=!0),onBlur:t[9]||(t[9]=e=>i.passOneFocused=!1),id:"password",name:"password",type:"password",ref:"passwordInput",placeholder:"Choose a password"},null,34),[[o.nr,i.passOneValue]]),i.passOneFocused?((0,a.wg)(),(0,a.iD)("span",{key:0,class:(0,k.C_)(["requirements",r.requirementsPassOne])},[(0,a.Uk)("Contains min. 3 characters"),Jc],2)):(0,a.kq)("",!0)]),(0,a._)("div",Yc,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>i.passTwoValue=e),class:(0,k.C_)(r.passTwoClass),onFocus:t[11]||(t[11]=e=>i.passTwoFocused=!0),onBlur:t[12]||(t[12]=e=>i.passTwoFocused=!1),id:"repeatPassword",name:"repeatPassword",type:"password",ref:"repeatPasswordInput",placeholder:"Repeat password"},null,34),[[o.nr,i.passTwoValue]]),i.passTwoFocused?((0,a.wg)(),(0,a.iD)("span",{key:0,class:(0,k.C_)(["requirements",r.requirementsPassTwo])},"Passwords match",2)):(0,a.kq)("",!0)]),(0,a._)("div",null,[(0,a._)("button",{type:"submit",class:"button",disabled:!r.validateForm()},[i.loading?((0,a.wg)(),(0,a.iD)("span",Zc,Vc)):((0,a.wg)(),(0,a.iD)("span",Oc,"Create account"))],8,zc)]),(0,a._)("div",Gc,[(0,a.Uk)("Have an account already? "),(0,a._)("a",{href:"",class:"link",onClick:t[13]||(t[13]=(0,o.iM)((t=>e.$emit("signin")),["prevent"]))},"Log In")])],32)])],64)}var Rc={emits:["close"],components:B,data(){return{usernameValue:"",usernameFocused:!1,emailValue:"",emailFocused:!1,passOneValue:"",passOneFocused:!1,passTwoValue:"",passTwoFocused:!1,formValid:!1,loading:!1,errorMessage:!1}},methods:{...(0,h.nv)("auth",["signup"]),validateForm(){const e=/^[A-Za-z0-9_]+$/,t=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,})+$/;return this.loading?(this.formValid=!1,!1):this.usernameValue.length>=3&&this.usernameValue.length<=20&&e.test(this.usernameValue)&&t.test(this.emailValue)&&this.passOneValue.length>=3&&this.passTwoValue===this.passOneValue?(this.formValid=!0,!0):(this.formValid=!1,!1)},submitForm(){const e=this.validateForm();if(e){const e={username:this.usernameValue,email:this.emailValue,password:this.passOneValue};this.loading=!0,this.signup(e).then((e=>{"Success"===e.status&&(this.loading=!1,this.$emit("signin"))})).catch((e=>{this.errorMessage=!0,this.loading=!1,console.error("Registration failed:",e)})),window.scrollTo({top:0,behavior:"auto"})}}},computed:{usernameClass(){var e=this.usernameValue.length;return 0===e?"neutral-input":e>=3&&e<=20?"valid-input":"invalid-input"},requirementsCharcount(){var e=this.usernameValue.length;return e>=3&&e<=20?"valid-requirement":"invalid-requirement"},requirementsSpecial(){const e=/^[A-Za-z0-9_]+$/;return!0===(e.test(this.usernameValue)||""===this.usernameValue)?"valid-requirement":"invalid-requirement"},emailClass(){const e=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,})+$/;return 0===this.emailValue.length?"neutral-input":!0===e.test(this.emailValue)?"valid-input":"invalid-input"},requirementsValidEmail(){const e=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,})+$/;return!0===e.test(this.emailValue)?"valid-requirement":"invalid-requirement"},passOneClass(){return 0===this.passOneValue.length?"neutral-input":this.passOneValue.length>=3?"valid-input":"invalid-input"},requirementsPassOne(){return this.passOneValue.length>=3?"valid-requirement":"invalid-requirement"},passTwoClass(){return 0===this.passTwoValue.length?"neutral-input":this.passTwoValue===this.passOneValue?"valid-input":"invalid-input"},requirementsPassTwo(){return this.passTwoValue===this.passOneValue?"valid-requirement":"invalid-requirement"}}};const qc=(0,f.Z)(Rc,[["render",Wc],["__scopeId","data-v-b0b7d10e"]]);var Xc=qc,Kc={setup(){const e=(0,n.tv)();return{router:e}},data(){return{dialogShown:!1,dialog:"signin",newstoryShown:!1,showSoonTooltip:!1}},components:{SigninDialog:Mc,SignupDialog:Xc,SmallTooltip:po},methods:{toggleDialog(){this.dialogShown=!this.dialogShown},changeDialog(e){this.dialog=e},goToProfile(){const e=this.currentUser;this.$router.push("/user/"+e)},goHome(){this.$router.push("/home")}},computed:{...(0,h.Se)("auth",["isLoggedIn","currentUser","userFetchedPicture","colorFetched","nFetchedLeaves"]),getProfileLink(){return"/user/"+this.currentUser},imgSource(){return s(5459)("./"+this.userFetchedPicture)}}};const $c=(0,f.Z)(Kc,[["render",hc],["__scopeId","data-v-3f57a945"]]);var eu=$c;const tu={class:"body"},su={class:"lower-body"},ou={class:"section"};function nu(e,t){return(0,a.wg)(),(0,a.iD)("div",tu,[(0,a._)("div",su,[(0,a._)("div",ou,[(0,a.WI)(e.$slots,"default",{},void 0,!0)])])])}const au={},iu=(0,f.Z)(au,[["render",nu],["__scopeId","data-v-33b58168"]]);var ru=iu;const lu=e=>((0,a.dD)("data-v-04304e6a"),e=e(),(0,a.Cn)(),e),cu=lu((()=>(0,a._)("div",{class:"material-symbols-outlined user-select-none m-2"},"warning",-1)));function uu(e,t,s,o,n,i){return(0,a.wg)(),(0,a.iD)("div",{class:(0,k.C_)(["alert alert-warning d-flex align-items-center p-1 mx-auto shadow custom-c",i.loginErrorState?"show":"remove"]),role:"alert"},[cu,(0,a._)("div",null,[(0,a._)("strong",null,(0,k.zw)(s.message),1)])],2)}var du={props:["message"],data(){return{remove:!1}},computed:{...(0,h.Se)("message",["loginError"]),loginErrorState(){return this.loginError}}};const mu=(0,f.Z)(du,[["render",uu],["__scopeId","data-v-04304e6a"]]);var gu=mu,pu={components:{TheHeader:eu,BlockFrame:ru,ErrorMessage:gu}};const hu=(0,f.Z)(pu,[["render",ec]]);var Au=hu;const _u=(0,o.ri)(Au);function vu(){Wr.commit("SET_LOGGED_IN",!1),Wr.commit("SET_USER",null),Wr.commit("SET_USER_DATA",null),sessionStorage.clear(),Xl.push("/home")}function wu(){const e=sessionStorage.getItem("jwtToken");if(!e)return!0;const t=JSON.parse(atob(e.split(".")[1])),s=1e3*t.exp,o=Date.now();return o>s}_u.use(Wr),_u.use(Xl);const fu=sessionStorage.getItem("jwtToken"),Cu=sessionStorage.getItem("username");if(fu&&Cu){const e=wu();e?vu():(v.defaults.headers.common.Authorization=`Bearer ${fu}`,Wr.commit("auth/SET_LOGGED_IN",!0),Wr.commit("auth/SET_USER",Cu),v.get(`${_}/user/${Cu}`,{timeout:5e3}).then((e=>{Wr.commit("auth/SET_USER_DATA",e.data.user_data)})).catch((e=>{v.isCancel(e)?console.error("Request timed out:",e):console.error("Failed to fetch user data:",e),vu()})),Xl.push("/home"))}_u.mount("#app")},5459:function(e,t,s){var o={"./astronaut_earth.jpeg":5572,"./astronaut_looking_earth.jpeg":7993,"./astronaut_reading.jpeg":9298,"./astronaut_reading_space_nostars.png":1996,"./astronaut_reads.jpeg":6757,"./astronaut_reads_in_planet.jpeg":4441,"./astronaut_reads_library.jpeg":2114,"./astronaut_saloon.jpeg":7359,"./astronaut_wathing_spaceship.jpeg":689,"./bookpile.jpeg":6874,"./default.png":8265,"./default_blue.png":6953,"./default_green.png":5534,"./default_grey.png":1188,"./default_orange.png":974,"./default_pink.png":240,"./default_purple.png":1033,"./default_red.png":4940,"./default_skyblue.png":8873,"./default_yellow.png":1835,"./logo.png":5080,"./moon_default_avatar-min.png":3349,"./plus_icon4.png":9922,"./reply_icon3.png":4308,"./storymous-forest-min.png":3080,"./tree1.jpeg":19,"./tree2.jpeg":1334};function n(e){var t=a(e);return s(t)}function a(e){if(!s.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=a,e.exports=n,n.id=5459},5572:function(e,t,s){"use strict";e.exports=s.p+"img/astronaut_earth.d3c0d2f9.jpeg"},7993:function(e,t,s){"use strict";e.exports=s.p+"img/astronaut_looking_earth.d011e3ce.jpeg"},9298:function(e,t,s){"use strict";e.exports=s.p+"img/astronaut_reading.1d463e2d.jpeg"},1996:function(e,t,s){"use strict";e.exports=s.p+"img/astronaut_reading_space_nostars.ea6acbfb.png"},6757:function(e,t,s){"use strict";e.exports=s.p+"img/astronaut_reads.1a10c03a.jpeg"},4441:function(e,t,s){"use strict";e.exports=s.p+"img/astronaut_reads_in_planet.e047399a.jpeg"},2114:function(e,t,s){"use strict";e.exports=s.p+"img/astronaut_reads_library.2c7e55f6.jpeg"},7359:function(e,t,s){"use strict";e.exports=s.p+"img/astronaut_saloon.d55abef2.jpeg"},689:function(e,t,s){"use strict";e.exports=s.p+"img/astronaut_wathing_spaceship.796bd99b.jpeg"},6874:function(e,t,s){"use strict";e.exports=s.p+"img/bookpile.7ad36211.jpeg"},8265:function(e,t,s){"use strict";e.exports=s.p+"img/default.eed50af3.png"},6953:function(e,t,s){"use strict";e.exports=s.p+"img/default_blue.fe7dda11.png"},5534:function(e,t,s){"use strict";e.exports=s.p+"img/default_green.0c6e72d0.png"},1188:function(e,t,s){"use strict";e.exports=s.p+"img/default_grey.1b77bddc.png"},974:function(e,t,s){"use strict";e.exports=s.p+"img/default_orange.e16e27b1.png"},240:function(e,t,s){"use strict";e.exports=s.p+"img/default_pink.0a0e6dd8.png"},1033:function(e,t,s){"use strict";e.exports=s.p+"img/default_purple.84e38387.png"},4940:function(e,t,s){"use strict";e.exports=s.p+"img/default_red.c336f242.png"},8873:function(e,t,s){"use strict";e.exports=s.p+"img/default_skyblue.d9a7fab1.png"},1835:function(e,t,s){"use strict";e.exports=s.p+"img/default_yellow.aa21d1e3.png"},5080:function(e,t,s){"use strict";e.exports=s.p+"img/logo.63a4ef05.png"},3349:function(e,t,s){"use strict";e.exports=s.p+"img/moon_default_avatar-min.6e80647c.png"},9922:function(e){"use strict";e.exports="data:image/png;base64,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abqq9+DAetWfRW3Prf61pfPdqD0XO+qTvUcH1qc+GTvOt/tfIAARbSVu9g+DYGT14bi5XeDkP0sXunF7od1V7+m9BGBt6j3trvbCha5x3ucAzrrKrulA74UA86q728GLXWeGAESUd8RB7xcE46jHYld75uLXW7r4VSLaM3FT/VLvJQGzqX8fN82y+894BHDqqtvj89MdvZcGXEj9atzXZj7l7xwBiIgoN8QXplt6LxFYTf1WfPrcl/tezJwBiIgot8W+6dreSwXOVo/E3vbteW+1hgBElKXYFR+d7uq9ZCAion4lvh7/0tawM68pAKdu+rq4OfbEbm8gAn3U52J/7I/D7aW1bmEdATiziZtiT+ya3tn7mwF51KfjQOyf7/H+ajYgAKc2VOJNsRzLsRzbTl1e1vl7tEBGfM6lPt17ggXymzgeK7Fy5vKXazncX82GBYDNVI6OloD63fYnvWfg4mb6h0DAYhIASEwAIDEBgMQEABITAEhMACAxAYDEBAASEwBITAAgMQGAxAQAEhMASEwAIDEBgMQEABITAEhMACAxAYDEBAASEwBITAAgMQGAxAQAEhMASEwAIDEBgMQEABITAEhMACAxAYDEBAASEwBITAAgMQGAxAQAEhMASEwAIDEBgMQEABITAEhMACAxAYDEBAASEwBITAAgMQGAxAQAEhMASEwAIDEBgMQEABITAEhMACAxAYDEBAASEwBITAAgMQGAxAQAEhMASEwAIDEBgMQEABITAEhMACAxAYDEBAASEwBITAAgMQGAxAQAEhMASEwAIDEBgMQEABITAEhMACAxAYDEBAASEwBITAAgMQGAxAQAEhMASEwAIDEBgMQEABITAEhMACAxAYDEBAASEwBITAAgMQGAxAQAEhMASEwAIDEBgMQEABITAEhMACAxAYDEBAASEwBITAAgMQGAxAQAEhMASEwAIDEBgMQEABITAEhMACAxAYDEBAASEwBITAAgMQGAxAQAEhMASEwAIDEBgMQEABITAEhMACAxAYDEBAASEwBITAAgMQGAxAQAEhMASEwAIDEBgMQEABITAEhMACAxAYDEBAASEwBITAAgMQGAxAQAEhMASEwAIDEBgMQEABITAEhMACAxAYDEBAASEwBITAAgMQGAxAQAEhMASEwAIDEBgMQEABITAEhMACAxAYDEBAASE4AxvNB7gLn9pvcAzEIAxnC89wAJJk5JAMaw0nuABBOnJABjGG93Gm/ilARgDOMdUI83cUoCMIbxfp+ON3FKAjCG8Xan8SZOSQDGMN7u5CHAEARgDL/sPcC82q97T8AsBGAIrdUf9p5hHvW7vSdgNgIwioO9B5jLod4DMBsBGMX+3gPM5UDvAZhNab0nYEblJ9Obe88wm/qj9rbeMzAbRwDjGOe36lgPV1ITgHHs7z3AzMZJVXoCMI5/7T3AzA73HoBZCcAw2m/rV3vPMIv6UPu/3jMwKwEYydd7DzCTf+49ALPzV4CBlKU4Ml3be4oLq0/HDe3l3lMwK0cAA2kvx97eM1zUXrv/SBwBDKZ8e7ql9wznV7/Tbu09A/NwBDCaT/UeYODpeBUBGEw7Uh/pPcP51Efakd4zMB8BGM9f9x5gwMk4DwEYTjtWv9R7htXUL7VjvWdgXp4EHFC5Iv5j2t57inPVY3FT+1XvKZiXI4ABtV/Frt4zvMouu/+IBGBI7Zm6u/cMZ6u72zO9Z2AtBGBQ7WC9p/cMp9V7mhcAD8pzAAMrX53u7D1DRH243dV7BtZKAAZWLot/nXb0naE+GTe38c5dzCkCMLSyHE9OV/W7//qz2NHGO2cBZ3gOYGhtJWo92uve69Godv+xCcDg2nPx3vpYj3uuX4/3tOd6r5/1EYDhtRPxsfq5rb7X+jdxe/vf3mtnvTwHsCDKx6avbd291Y807/uzEARgYZQb4sBWnDmg/jh2tR/0Xi0bw0OAhdGOxLvrw5t9L/Ur8W67/+JwBLBgyvWxb3r/5my7fjM+3Z7uvUI2kgAsoPL+2Dddv7HbrN+Pve07vVfGRhOAhVRK3BH3b9RLhuuP4t74p+ZHZQEJwMIql8bdccf0vvVtpR6OR+LB9mLv1bA5BGDBlStjZ+yZds5/y3oo9seh9nzvFbCZBCCFcnncFnumT8x27fpQ7I/H24neU7P5BCCRcklsj+VYjm2nL6e3R9RnYyWOx8qZy2Ptpd6TslX+H1V+xj/zTOmBAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTA2LTIyVDE3OjI5OjQ1KzAwOjAwadMhfQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wNi0yMlQxNzoyOTo0NSswMDowMBiOmcEAAAAASUVORK5CYII="},4308:function(e){"use strict";e.exports="data:image/png;base64,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"},3080:function(e,t,s){"use strict";e.exports=s.p+"img/storymous-forest-min.adce9d19.png"},19:function(e,t,s){"use strict";e.exports=s.p+"img/tree1.f7886420.jpeg"},1334:function(e,t,s){"use strict";e.exports=s.p+"img/tree2.1ab48e59.jpeg"}},t={};function s(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,s),a.exports}s.m=e,function(){var e=[];s.O=function(t,o,n,a){if(!o){var i=1/0;for(u=0;u<e.length;u++){o=e[u][0],n=e[u][1],a=e[u][2];for(var r=!0,l=0;l<o.length;l++)(!1&a||i>=a)&&Object.keys(s.O).every((function(e){return s.O[e](o[l])}))?o.splice(l--,1):(r=!1,a<i&&(i=a));if(r){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[o,n,a]}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.p="/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,a,i=o[0],r=o[1],l=o[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(n in r)s.o(r,n)&&(s.m[n]=r[n]);if(l)var u=l(s)}for(t&&t(o);c<i.length;c++)a=i[c],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(u)},o=self["webpackChunkstorymous"]=self["webpackChunkstorymous"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(7695)}));o=s.O(o)})();
//# sourceMappingURL=app.3b777764.js.map